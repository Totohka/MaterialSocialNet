2024-07-04 18:54:58.7879|0|DEBUG|Program|init main 
2024-07-04 18:55:00.8907|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-04 18:55:00.9461|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-04 18:55:00.9461|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-04 18:55:00.9461|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-04 18:55:01.0058|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-04 18:55:01.0503|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-04 18:55:01.1151|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-04 18:55:01.1151|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-04 18:55:01.1290|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-04 18:55:01.1290|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-04 18:55:01.1290|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-04 18:55:01.1290|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-04 18:55:01.1446|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-04 18:55:01.1446|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-04 18:55:01.1446|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-04 18:55:01.1446|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-04 18:55:01.1446|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-04 18:55:01.1446|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-04 18:55:01.1446|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-04 18:55:01.1618|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-04 18:55:01.1618|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-04 18:55:01.1618|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-04 18:55:01.1618|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-04 18:55:01.1618|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-04 18:55:01.1618|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-04 18:55:01.4128|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-04 18:55:01.4128|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-04 18:55:01.4128|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-04 18:55:01.4128|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-04 18:55:01.4128|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-04 18:55:01.4128|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-04 18:55:01.4128|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-04 18:55:01.4128|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-04 18:55:01.4128|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-04 18:55:01.5502|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS3" accepted. 
2024-07-04 18:55:01.5522|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS3" started. 
2024-07-04 18:55:01.5522|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS4" accepted. 
2024-07-04 18:55:01.5522|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS4" started. 
2024-07-04 18:55:02.0549|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS5" accepted. 
2024-07-04 18:55:02.0549|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS5" started. 
2024-07-04 18:55:02.0687|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS6" accepted. 
2024-07-04 18:55:02.0687|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS6" started. 
2024-07-04 18:55:02.1285|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger - - 
2024-07-04 18:55:02.1711|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-04 18:55:02.1711|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 18:55:02.2016|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger' 
2024-07-04 18:55:02.2016|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2024-07-04 18:55:02.2793|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS5" completed keep alive response. 
2024-07-04 18:55:02.2793|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger - - - 301 0 - 154.3100ms 
2024-07-04 18:55:02.3004|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-04 18:55:02.3004|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 18:55:02.3004|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2024-07-04 18:55:02.3004|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2024-07-04 18:55:02.4138|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-04 18:55:03.2889|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-04 18:55:03.2889|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS5" completed keep alive response. 
2024-07-04 18:55:03.2889|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 989.4216ms 
2024-07-04 18:55:03.3581|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS7" accepted. 
2024-07-04 18:55:03.3581|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS7" started. 
2024-07-04 18:55:03.3581|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS8" accepted. 
2024-07-04 18:55:03.3581|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS8" started. 
2024-07-04 18:55:03.3581|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-04 18:55:03.3581|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/swagger-ui.css - - 
2024-07-04 18:55:03.3581|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/swagger-ui-bundle.js - - 
2024-07-04 18:55:03.3581|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 18:55:03.3581|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 18:55:03.3581|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/swagger-ui.css' 
2024-07-04 18:55:03.3581|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2024-07-04 18:55:03.3581|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/swagger-ui-standalone-preset.js - - 
2024-07-04 18:55:03.3581|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/swagger-ui-bundle.js' 
2024-07-04 18:55:03.3581|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2024-07-04 18:55:03.3581|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 18:55:03.3581|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js' 
2024-07-04 18:55:03.3581|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2024-07-04 18:55:03.3581|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS8" completed keep alive response. 
2024-07-04 18:55:03.3581|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.8836ms 
2024-07-04 18:55:03.3643|0|TRACE|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Range header's value is empty. 
2024-07-04 18:55:03.3643|0|TRACE|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Range header's value is empty. 
2024-07-04 18:55:03.3643|0|TRACE|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Range header's value is empty. 
2024-07-04 18:55:03.3898|2|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A' 
2024-07-04 18:55:03.3898|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS7" completed keep alive response. 
2024-07-04 18:55:03.3898|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 29.2736ms 
2024-07-04 18:55:04.2934|2|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A' 
2024-07-04 18:55:04.3002|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS5" completed keep alive response. 
2024-07-04 18:55:04.3002|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/swagger-ui.css - - - 200 144929 text/css 946.9189ms 
2024-07-04 18:55:04.3251|2|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A' 
2024-07-04 18:55:04.3251|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS6" completed keep alive response. 
2024-07-04 18:55:04.3251|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 965.5716ms 
2024-07-04 18:55:04.3358|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-04 18:55:04.3990|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS5" completed keep alive response. 
2024-07-04 18:55:04.3990|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.3112ms 
2024-07-04 18:55:04.5954|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-04 18:55:04.5954|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 18:55:04.5954|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2024-07-04 18:55:04.5954|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2024-07-04 18:55:04.6226|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/favicon-32x32.png - - 
2024-07-04 18:55:04.6226|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 18:55:04.6226|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/favicon-32x32.png' 
2024-07-04 18:55:04.6226|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2024-07-04 18:55:04.6226|0|TRACE|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Range header's value is empty. 
2024-07-04 18:55:04.6226|2|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A' 
2024-07-04 18:55:04.6226|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS6" completed keep alive response. 
2024-07-04 18:55:04.6226|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/favicon-32x32.png - - - 200 628 image/png 1.0511ms 
2024-07-04 18:55:04.7491|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS5" completed keep alive response. 
2024-07-04 18:55:04.7491|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.8524ms 
2024-07-04 18:55:39.0742|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S40HBQUS7" received FIN. 
2024-07-04 18:55:39.0742|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S40HBQUS8" received FIN. 
2024-07-04 18:55:39.0742|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S40HBQUS6" received FIN. 
2024-07-04 18:55:39.0742|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S40HBQUS5" received FIN. 
2024-07-04 18:55:39.0884|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S40HBQUS7" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 18:55:39.0884|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS7" disconnecting. 
2024-07-04 18:55:39.0884|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S40HBQUS8" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 18:55:39.0884|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS8" disconnecting. 
2024-07-04 18:55:39.0884|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS6" disconnecting. 
2024-07-04 18:55:39.0990|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS8" stopped. 
2024-07-04 18:55:39.0990|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS7" stopped. 
2024-07-04 18:55:39.0990|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS6" stopped. 
2024-07-04 18:55:39.1145|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS5" disconnecting. 
2024-07-04 18:55:39.1145|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS5" stopped. 
2024-07-04 18:55:39.1145|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S40HBQUS6" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 18:55:39.1145|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S40HBQUS5" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 18:59:30.1563|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS9" accepted. 
2024-07-04 18:59:30.1563|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS9" started. 
2024-07-04 18:59:30.1754|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5289/api/Message application/json 176 
2024-07-04 18:59:30.1754|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 18:59:30.1754|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Message' 
2024-07-04 18:59:30.1754|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Message' is valid for the request path '/api/Message' 
2024-07-04 18:59:30.1754|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 18:59:30.1754|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2024-07-04 18:59:30.1754|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-04 18:59:30.3115|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2024-07-04 18:59:30.3115|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5289'. 
2024-07-04 18:59:30.3115|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2024-07-04 18:59:30.3162|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 18:59:30.3579|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "AddNewMessage", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewMessage(Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-04 18:59:30.3579|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-04 18:59:30.3579|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-04 18:59:30.3579|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-04 18:59:30.3579|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-04 18:59:30.3579|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-04 18:59:30.3579|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 18:59:30.9008|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 18:59:30.9008|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 18:59:30.9008|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' using the name '' in request data ... 
2024-07-04 18:59:30.9110|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2024-07-04 18:59:30.9110|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S40HBQUS9", Request id "0HN4S40HBQUS9:00000001": started reading request body. 
2024-07-04 18:59:30.9110|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S40HBQUS9", Request id "0HN4S40HBQUS9:00000001": done reading request body. 
2024-07-04 18:59:30.9333|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' 
2024-07-04 18:59:30.9333|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 18:59:30.9333|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 18:59:30.9333|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 18:59:30.9433|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 18:59:30.9433|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 18:59:30.9433|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 18:59:30.9433|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 18:59:30.9433|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 18:59:30.9433|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 18:59:31.0679|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-04 18:59:31.0679|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) with arguments (Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) 
2024-07-04 18:59:31.0679|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController|Вызван метод AddNewMessage 
2024-07-04 18:59:31.0679|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод CreateAsync с параметрами: message: Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 18:59:31.1071|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAsync с параметрами: id : 1 
2024-07-04 18:59:31.2734|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-04 18:59:32.4406|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-04 18:59:32.7536|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 18:59:33.0883|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)' 
2024-07-04 18:59:33.4691|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ChatRoom>(
    asyncEnumerable: new SingleQueryingEnumerable<ChatRoom>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) c.Id, c.Description, c.LastMessage, c.Name
            FROM ChatRooms AS c
            WHERE c.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
        Goods.System.Social.Network.DAL.UserContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2024-07-04 18:59:33.5239|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:33.5239|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 18:59:33.5516|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (22ms). 
2024-07-04 18:59:33.5516|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (34ms). 
2024-07-04 18:59:33.5680|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (46ms). 
2024-07-04 18:59:33.5680|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:34.3827|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:34.3995|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 18:59:34.5135|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 18:59:34.6000|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 18:59:34.6267|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:34.6421|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 117ms reading results. 
2024-07-04 18:59:34.6478|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:34.6478|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (6ms). 
2024-07-04 18:59:34.6478|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 18:59:34.6478|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:34.6478|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (1ms). 
2024-07-04 18:59:34.6606|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод Update с параметрами: chatRoom : Goods.System.Social.Network.DomainModel.Entities.ChatRoom 
2024-07-04 18:59:34.7254|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 18:59:34.7493|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 18:59:34.7493|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 18:59:34.7546|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 18:59:34.7546|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 18:59:34.9067|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 18:59:34.9067|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 18:59:34.9067|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:34.9105|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:34.9105|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:34.9105|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:34.9105|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:34.9105|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 18:59:34.9309|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 18:59:34.9439|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:34.9439|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 13ms reading results. 
2024-07-04 18:59:34.9439|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:34.9439|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:34.9619|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'ChatRoom' entity with key '{Id: 1}' tracked by 'UserContext' changed state from 'Modified' to 'Unchanged'. 
2024-07-04 18:59:34.9619|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 18:59:34.9619|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 18:59:34.9619|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:34.9619|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 18:59:34.9619|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.MessageRepository|Вызван метод Create с параметрами: message : Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 18:59:34.9810|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 18:59:34.9983|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"UserContext"' generated temporary value '-2147482647' for the property '"Id"."Message"'. 
2024-07-04 18:59:35.0443|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: -2147482647}'. 
2024-07-04 18:59:35.0443|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 18:59:35.0443|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 18:59:35.0443|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 18:59:35.0931|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 18:59:35.0931|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 18:59:35.0931|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.0931|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.0931|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:35.0931|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:35.0931|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:35.0931|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='1', @p1='2024-07-04T11:58:26.8370000Z', @p2='Сообщение' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 18:59:35.1089|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[@p0='1', @p1='2024-07-04T11:58:26.8370000Z', @p2='Сообщение' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 18:59:35.1169|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Message.Id' was detected as changed from '-2147482647' to '54' for entity with key '{Id: 54}'. 
2024-07-04 18:59:35.1169|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.1169|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 17ms reading results. 
2024-07-04 18:59:35.1169|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.1169|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:35.1288|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'Message' entity with key '{Id: 54}' tracked by 'UserContext' changed state from 'Added' to 'Unchanged'. 
2024-07-04 18:59:35.1288|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 18:59:35.1288|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Message>()
    .Max(m => m.Id)' 
2024-07-04 18:59:35.1738|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT MAX(m.Id)
        FROM Messages AS m), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)
    .Single()' 
2024-07-04 18:59:35.1824|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:35.1824|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:35.1824|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:35.1824|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.1824|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.1824|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 18:59:35.1824|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 18:59:35.1824|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.1824|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 1ms reading results. 
2024-07-04 18:59:35.1824|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.1824|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:35.1824|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 18:59:35.1824|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.1824|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 18:59:35.1824|0|TRACE|DomainServices.Chat.Realization.InviteService|Вызван метод GetUsersInChatAsync с параметрами: chatId: 1 
2024-07-04 18:59:35.2103|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 18:59:35.2103|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoomUser>()' 
2024-07-04 18:59:35.2103|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoomUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoomUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoomUser.ChatRoomId (int) Required FK Index, 1], [Property: ChatRoomUser.UserId (int) Required FK Index, 2] }
        SELECT c.Id, c.ChatRoomId, c.UserId
        FROM ChatRoomUsers AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoomUser>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-04 18:59:35.2103|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:35.2103|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 18:59:35.2103|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 18:59:35.2103|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:35.2103|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:35.2103|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.2103|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.2103|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 18:59:35.2259|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 18:59:35.2259|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-04 18:59:35.2416|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-04 18:59:35.2416|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-04 18:59:35.2416|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-04 18:59:35.2416|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.2416|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 16ms reading results. 
2024-07-04 18:59:35.2416|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.2416|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:35.2416|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 18:59:35.2416|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.2416|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 18:59:35.2416|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 5 
2024-07-04 18:59:35.2416|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 18:59:35.2416|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)' 
2024-07-04 18:59:35.2591|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Avatar (string) Required MaxLength(20), 1], [Property: User.Background (string) Required MaxLength(20), 2], [Property: User.City (string) Required MaxLength(25), 3], [Property: User.Country (string) Required MaxLength(25), 4], [Property: User.DateBirthday (DateTime) Required, 5], [Property: User.Email (string) Required MaxLength(182), 6], [Property: User.FirstName (string) Required MaxLength(25), 7], [Property: User.LastName (string) Required MaxLength(25), 8], [Property: User.Password (string) Required MaxLength(100), 9], [Property: User.Phone (string) Required MaxLength(11), 10], [Property: User.SettingNotificationId (int) Required FK Index, 11], [Property: User.SettingPrivacyId (int) Required FK Index, 12], [Property: User.Status (string) Required MaxLength(100), 13] }
            SELECT TOP(1) u.Id, u.Avatar, u.Background, u.City, u.Country, u.DateBirthday, u.Email, u.FirstName, u.LastName, u.Password, u.Phone, u.SettingNotificationId, u.SettingPrivacyId, u.Status
            FROM Users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Goods.System.Social.Network.DAL.UserContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2024-07-04 18:59:35.2591|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:35.2591|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 18:59:35.2591|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 18:59:35.2591|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:35.2591|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:35.2591|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.2591|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.2591|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 18:59:35.2591|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 18:59:35.3079|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 5}'. 
2024-07-04 18:59:35.3340|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.3340|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 68ms reading results. 
2024-07-04 18:59:35.3340|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.3340|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:35.3340|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 18:59:35.3340|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.3340|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 18:59:35.3340|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 6 
2024-07-04 18:59:35.3340|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 18:59:35.3340|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:35.3340|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 18:59:35.3340|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 18:59:35.3340|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:35.3340|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:35.3340|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.3340|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.3340|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 18:59:35.3340|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 18:59:35.3340|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 6}'. 
2024-07-04 18:59:35.3340|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.3340|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 18:59:35.3340|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.3340|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:35.3340|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 18:59:35.3340|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:35.3340|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 18:59:35.8711|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkResult in 4800.0316ms. 
2024-07-04 18:59:35.8711|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 18:59:35.8711|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 18:59:35.8711|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 18:59:35.8711|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 18:59:35.8711|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 18:59:35.8711|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 18:59:35.8711|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 18:59:35.8711|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 18:59:35.8711|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 200 
2024-07-04 18:59:35.8711|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 18:59:35.8783|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 18:59:35.8783|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 18:59:35.8783|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) in 5520.4881ms 
2024-07-04 18:59:35.8783|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 18:59:35.8783|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS9" completed keep alive response. 
2024-07-04 18:59:35.8783|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5289/api/Message application/json 176 - 200 0 - 5708.2304ms 
2024-07-04 18:59:50.2652|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5289/api/Message application/json 178 
2024-07-04 18:59:50.2652|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 18:59:50.2652|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Message' 
2024-07-04 18:59:50.2652|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Message' is valid for the request path '/api/Message' 
2024-07-04 18:59:50.2652|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 18:59:50.2652|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2024-07-04 18:59:50.2696|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2024-07-04 18:59:50.2696|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5289'. 
2024-07-04 18:59:50.2696|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2024-07-04 18:59:50.2696|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 18:59:50.2696|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "AddNewMessage", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewMessage(Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-04 18:59:50.2696|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-04 18:59:50.2696|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-04 18:59:50.2696|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-04 18:59:50.2696|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-04 18:59:50.2696|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-04 18:59:50.2696|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 18:59:50.2696|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 18:59:50.2696|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 18:59:50.2696|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' using the name '' in request data ... 
2024-07-04 18:59:50.2696|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2024-07-04 18:59:50.2696|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S40HBQUS9", Request id "0HN4S40HBQUS9:00000002": started reading request body. 
2024-07-04 18:59:50.2696|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S40HBQUS9", Request id "0HN4S40HBQUS9:00000002": done reading request body. 
2024-07-04 18:59:50.2696|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' 
2024-07-04 18:59:50.2696|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 18:59:50.2696|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 18:59:50.2696|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 18:59:50.2696|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 18:59:50.2696|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 18:59:50.2696|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 18:59:50.2696|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 18:59:50.2696|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 18:59:50.2696|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 18:59:50.2940|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-04 18:59:50.2940|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) with arguments (Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) 
2024-07-04 18:59:50.2940|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController|Вызван метод AddNewMessage 
2024-07-04 18:59:50.2940|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод CreateAsync с параметрами: message: Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 18:59:50.2940|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAsync с параметрами: id : 1 
2024-07-04 18:59:50.2940|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 18:59:50.2940|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:50.2940|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 18:59:50.2940|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 18:59:50.2940|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.2940|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.2940|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.2940|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.2940|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 18:59:50.3018|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 18:59:50.3018|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 18:59:50.3018|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 1ms reading results. 
2024-07-04 18:59:50.3018|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:50.3018|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 18:59:50.3018|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 18:59:50.3018|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод Update с параметрами: chatRoom : Goods.System.Social.Network.DomainModel.Entities.ChatRoom 
2024-07-04 18:59:50.3018|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 18:59:50.3018|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 18:59:50.3018|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 18:59:50.3018|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 18:59:50.3018|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 18:59:50.3018|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 18:59:50.3018|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 18:59:50.3018|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:50.3018|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.3018|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.3018|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение 2' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 18:59:50.3018|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение 2' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 18:59:50.3018|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 18:59:50.3018|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:50.3018|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'ChatRoom' entity with key '{Id: 1}' tracked by 'UserContext' changed state from 'Modified' to 'Unchanged'. 
2024-07-04 18:59:50.3018|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 18:59:50.3018|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 18:59:50.3018|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 18:59:50.3018|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.MessageRepository|Вызван метод Create с параметрами: message : Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 18:59:50.3018|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 18:59:50.3018|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"UserContext"' generated temporary value '-2147482646' for the property '"Id"."Message"'. 
2024-07-04 18:59:50.3018|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: -2147482646}'. 
2024-07-04 18:59:50.3018|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 18:59:50.3018|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 18:59:50.3018|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 18:59:50.3018|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 18:59:50.3018|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 18:59:50.3018|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:50.3018|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.3018|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.3018|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='1', @p1='2024-07-04T11:58:26.8370000Z', @p2='Сообщение 2' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 18:59:50.3018|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='1', @p1='2024-07-04T11:58:26.8370000Z', @p2='Сообщение 2' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 18:59:50.3018|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Message.Id' was detected as changed from '-2147482646' to '55' for entity with key '{Id: 55}'. 
2024-07-04 18:59:50.3018|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 18:59:50.3018|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:50.3018|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'Message' entity with key '{Id: 55}' tracked by 'UserContext' changed state from 'Added' to 'Unchanged'. 
2024-07-04 18:59:50.3018|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 18:59:50.3018|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:50.3018|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.3018|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.3018|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 18:59:50.3018|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 18:59:50.3018|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 18:59:50.3018|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:50.3018|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 18:59:50.3018|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3018|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 18:59:50.3018|0|TRACE|DomainServices.Chat.Realization.InviteService|Вызван метод GetUsersInChatAsync с параметрами: chatId: 1 
2024-07-04 18:59:50.3164|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 18:59:50.3164|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:50.3164|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 18:59:50.3164|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 18:59:50.3164|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.3164|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.3164|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 18:59:50.3164|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 18:59:50.3164|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-04 18:59:50.3164|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-04 18:59:50.3164|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-04 18:59:50.3164|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-04 18:59:50.3164|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 18:59:50.3164|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:50.3164|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 18:59:50.3164|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 18:59:50.3164|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 5 
2024-07-04 18:59:50.3164|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 18:59:50.3164|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:50.3164|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 18:59:50.3164|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 18:59:50.3164|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.3164|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.3164|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 18:59:50.3164|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 18:59:50.3164|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 5}'. 
2024-07-04 18:59:50.3164|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 18:59:50.3164|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:50.3164|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 18:59:50.3164|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 18:59:50.3164|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 6 
2024-07-04 18:59:50.3164|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 18:59:50.3164|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 18:59:50.3164|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 18:59:50.3164|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 18:59:50.3164|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.3164|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 18:59:50.3164|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 18:59:50.3164|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 18:59:50.3164|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 6}'. 
2024-07-04 18:59:50.3164|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 18:59:50.3164|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 18:59:50.3164|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 18:59:50.3164|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 18:59:50.3164|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 18:59:50.3463|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkResult in 52.1857ms. 
2024-07-04 18:59:50.3463|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 18:59:50.3463|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 18:59:50.3463|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 18:59:50.3463|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 18:59:50.3463|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 18:59:50.3463|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 18:59:50.3463|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 18:59:50.3463|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 18:59:50.3463|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 200 
2024-07-04 18:59:50.3463|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 18:59:50.3463|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 18:59:50.3463|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 18:59:50.3463|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) in 76.4202ms 
2024-07-04 18:59:50.3463|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 18:59:50.3463|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS9" completed keep alive response. 
2024-07-04 18:59:50.3463|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5289/api/Message application/json 178 - 200 0 - 81.9736ms 
2024-07-04 19:00:09.5314|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S40HBQUS9" received FIN. 
2024-07-04 19:00:09.5314|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S40HBQUS9" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 19:00:09.5314|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS9" disconnecting. 
2024-07-04 19:00:09.5314|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUS9" stopped. 
2024-07-04 19:17:24.3236|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUSA" accepted. 
2024-07-04 19:17:24.3236|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUSA" started. 
2024-07-04 19:17:24.3454|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5289/api/Message application/json 178 
2024-07-04 19:17:24.3454|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 19:17:24.3454|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Message' 
2024-07-04 19:17:24.3454|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Message' is valid for the request path '/api/Message' 
2024-07-04 19:17:24.3454|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:17:24.3454|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2024-07-04 19:17:24.3479|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2024-07-04 19:17:24.3479|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5289'. 
2024-07-04 19:17:24.3479|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2024-07-04 19:17:24.3479|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:17:24.3479|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "AddNewMessage", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewMessage(Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-04 19:17:24.3479|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-04 19:17:24.3479|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-04 19:17:24.3479|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-04 19:17:24.3479|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-04 19:17:24.3479|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-04 19:17:24.3479|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 19:17:24.3479|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 19:17:24.3479|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 19:17:24.3479|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' using the name '' in request data ... 
2024-07-04 19:17:24.3479|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2024-07-04 19:17:24.3479|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S40HBQUSA", Request id "0HN4S40HBQUSA:00000001": started reading request body. 
2024-07-04 19:17:24.3479|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S40HBQUSA", Request id "0HN4S40HBQUSA:00000001": done reading request body. 
2024-07-04 19:17:24.3479|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' 
2024-07-04 19:17:24.3479|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:17:24.3479|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:17:24.3479|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 19:17:24.3479|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:17:24.3479|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 19:17:24.3479|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:17:24.3479|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:17:24.3479|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:17:24.3479|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:17:24.3759|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-04 19:17:24.3759|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) with arguments (Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) 
2024-07-04 19:17:24.3759|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController|Вызван метод AddNewMessage 
2024-07-04 19:17:24.3759|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод CreateAsync с параметрами: message: Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 19:17:24.3759|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAsync с параметрами: id : 1 
2024-07-04 19:17:24.3759|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:24.3792|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:24.3792|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:24.3792|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:24.3792|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.3792|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.3792|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.3985|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.3985|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 19:17:24.3985|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 19:17:24.3985|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 19:17:24.3985|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.3985|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:24.3985|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.3985|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:24.3985|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:24.3985|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.3985|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:24.3985|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод Update с параметрами: chatRoom : Goods.System.Social.Network.DomainModel.Entities.ChatRoom 
2024-07-04 19:17:24.3985|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:24.3985|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 19:17:24.3985|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 19:17:24.3985|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 19:17:24.3985|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 19:17:24.3985|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:24.3985|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:24.3985|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.3985|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.3985|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:24.3985|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.3985|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.3985|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение 2' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 19:17:24.3985|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение 2' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 19:17:24.3985|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.3985|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:24.3985|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.3985|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:24.3985|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'ChatRoom' entity with key '{Id: 1}' tracked by 'UserContext' changed state from 'Modified' to 'Unchanged'. 
2024-07-04 19:17:24.3985|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 19:17:24.3985|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:24.3985|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.3985|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:24.3985|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.MessageRepository|Вызван метод Create с параметрами: message : Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 19:17:24.4104|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:24.4104|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"UserContext"' generated temporary value '-2147482645' for the property '"Id"."Message"'. 
2024-07-04 19:17:24.4104|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: -2147482645}'. 
2024-07-04 19:17:24.4104|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 19:17:24.4104|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 19:17:24.4104|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 19:17:24.4104|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:24.4104|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:24.4104|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:24.4104|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.4104|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.4104|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='1', @p1='2024-07-04T11:58:26.8370000Z', @p2='Сообщение 2' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 19:17:24.4104|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='1', @p1='2024-07-04T11:58:26.8370000Z', @p2='Сообщение 2' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 19:17:24.4104|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Message.Id' was detected as changed from '-2147482645' to '56' for entity with key '{Id: 56}'. 
2024-07-04 19:17:24.4104|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:24.4104|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:24.4104|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'Message' entity with key '{Id: 56}' tracked by 'UserContext' changed state from 'Added' to 'Unchanged'. 
2024-07-04 19:17:24.4104|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 19:17:24.4104|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:24.4104|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.4104|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.4104|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 19:17:24.4104|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 19:17:24.4104|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:24.4104|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:24.4104|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:24.4104|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:24.4104|0|TRACE|DomainServices.Chat.Realization.InviteService|Вызван метод GetUsersInChatAsync с параметрами: chatId: 1 
2024-07-04 19:17:24.4104|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:24.4104|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:24.4104|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:24.4104|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:24.4104|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.4104|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.4104|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 19:17:24.4104|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 19:17:24.4104|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-04 19:17:24.4104|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-04 19:17:24.4104|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-04 19:17:24.4104|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-04 19:17:24.4104|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:24.4104|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:24.4104|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:24.4104|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:24.4104|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 5 
2024-07-04 19:17:24.4104|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:24.4104|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:24.4104|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:24.4104|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:24.4104|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.4104|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.4104|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4104|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:17:24.4255|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:17:24.4255|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 5}'. 
2024-07-04 19:17:24.4255|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4255|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:24.4255|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4255|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:24.4255|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:24.4255|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4255|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:24.4255|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 6 
2024-07-04 19:17:24.4255|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:24.4255|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:24.4255|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:24.4255|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:24.4255|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.4255|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:24.4255|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4255|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4255|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:17:24.4255|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:17:24.4255|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 6}'. 
2024-07-04 19:17:24.4255|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4255|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:24.4255|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4255|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:24.4255|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:24.4255|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:24.4255|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:24.4561|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkResult in 79.9837ms. 
2024-07-04 19:17:24.4561|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:17:24.4561|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:17:24.4561|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:17:24.4561|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:17:24.4561|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 19:17:24.4561|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:17:24.4561|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:17:24.4561|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 19:17:24.4561|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 200 
2024-07-04 19:17:24.4561|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 19:17:24.4565|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:17:24.4565|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:17:24.4565|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) in 107.8526ms 
2024-07-04 19:17:24.4565|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:17:24.4565|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUSA" completed keep alive response. 
2024-07-04 19:17:24.4565|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5289/api/Message application/json 178 - 200 0 - 111.2830ms 
2024-07-04 19:17:25.1690|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5289/api/Message application/json 178 
2024-07-04 19:17:25.1690|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 19:17:25.1690|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Message' 
2024-07-04 19:17:25.1690|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Message' is valid for the request path '/api/Message' 
2024-07-04 19:17:25.1690|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:17:25.1690|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2024-07-04 19:17:25.1690|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2024-07-04 19:17:25.1690|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5289'. 
2024-07-04 19:17:25.1690|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2024-07-04 19:17:25.1690|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:17:25.1690|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "AddNewMessage", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewMessage(Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-04 19:17:25.1690|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-04 19:17:25.1690|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-04 19:17:25.1690|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-04 19:17:25.1690|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-04 19:17:25.1690|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-04 19:17:25.1690|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 19:17:25.1690|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 19:17:25.1690|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 19:17:25.1690|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' using the name '' in request data ... 
2024-07-04 19:17:25.1690|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2024-07-04 19:17:25.1690|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S40HBQUSA", Request id "0HN4S40HBQUSA:00000002": started reading request body. 
2024-07-04 19:17:25.1690|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S40HBQUSA", Request id "0HN4S40HBQUSA:00000002": done reading request body. 
2024-07-04 19:17:25.1690|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' 
2024-07-04 19:17:25.1690|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:17:25.1690|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:17:25.1690|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 19:17:25.1690|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:17:25.1690|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 19:17:25.1690|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:17:25.1690|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:17:25.1690|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:17:25.1690|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:17:25.1939|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-04 19:17:25.1939|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) with arguments (Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) 
2024-07-04 19:17:25.1939|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController|Вызван метод AddNewMessage 
2024-07-04 19:17:25.1939|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод CreateAsync с параметрами: message: Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 19:17:25.1939|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAsync с параметрами: id : 1 
2024-07-04 19:17:25.1939|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:25.1939|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:25.1939|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:25.1939|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:25.1939|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.1939|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.1939|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 19:17:25.1939|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 19:17:25.1939|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 19:17:25.1939|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 1ms reading results. 
2024-07-04 19:17:25.1939|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:25.1939|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:25.1939|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:25.1939|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод Update с параметрами: chatRoom : Goods.System.Social.Network.DomainModel.Entities.ChatRoom 
2024-07-04 19:17:25.1939|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:25.1939|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 19:17:25.1939|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 19:17:25.1939|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 19:17:25.1939|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 19:17:25.1939|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:25.1939|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:25.1939|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:25.1939|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.1939|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.1939|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение 2' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 19:17:25.1939|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение 2' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 19:17:25.1939|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:25.1939|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:25.1939|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'ChatRoom' entity with key '{Id: 1}' tracked by 'UserContext' changed state from 'Modified' to 'Unchanged'. 
2024-07-04 19:17:25.1939|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 19:17:25.1939|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:25.1939|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:25.1939|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.MessageRepository|Вызван метод Create с параметрами: message : Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 19:17:25.1939|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:25.1939|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"UserContext"' generated temporary value '-2147482644' for the property '"Id"."Message"'. 
2024-07-04 19:17:25.1939|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: -2147482644}'. 
2024-07-04 19:17:25.1939|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 19:17:25.1939|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 19:17:25.1939|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 19:17:25.1939|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:25.1939|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:25.1939|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:25.1939|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.1939|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.1939|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='1', @p1='2024-07-04T11:58:26.8370000Z', @p2='Сообщение 2' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 19:17:25.1939|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='1', @p1='2024-07-04T11:58:26.8370000Z', @p2='Сообщение 2' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 19:17:25.1939|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Message.Id' was detected as changed from '-2147482644' to '57' for entity with key '{Id: 57}'. 
2024-07-04 19:17:25.1939|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:25.1939|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:25.1939|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'Message' entity with key '{Id: 57}' tracked by 'UserContext' changed state from 'Added' to 'Unchanged'. 
2024-07-04 19:17:25.1939|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 19:17:25.1939|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:25.1939|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.1939|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.1939|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 19:17:25.1939|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 19:17:25.1939|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:25.1939|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:25.1939|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:25.1939|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.1939|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:25.1939|0|TRACE|DomainServices.Chat.Realization.InviteService|Вызван метод GetUsersInChatAsync с параметрами: chatId: 1 
2024-07-04 19:17:25.2067|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:25.2067|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:25.2067|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:25.2067|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:25.2067|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.2067|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.2067|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 19:17:25.2067|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 19:17:25.2067|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-04 19:17:25.2067|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-04 19:17:25.2067|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-04 19:17:25.2067|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-04 19:17:25.2067|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:25.2067|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:25.2067|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:25.2067|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:25.2067|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 5 
2024-07-04 19:17:25.2067|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:25.2067|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:25.2067|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:25.2067|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:25.2067|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.2067|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.2067|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:17:25.2067|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:17:25.2067|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 5}'. 
2024-07-04 19:17:25.2067|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:25.2067|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:25.2067|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:25.2067|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:25.2067|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 6 
2024-07-04 19:17:25.2067|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:25.2067|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:25.2067|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:25.2067|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:25.2067|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.2067|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:25.2067|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:17:25.2067|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:17:25.2067|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 6}'. 
2024-07-04 19:17:25.2067|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:25.2067|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:25.2067|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:25.2067|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:25.2067|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:25.2384|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkResult in 44.3435ms. 
2024-07-04 19:17:25.2384|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:17:25.2384|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:17:25.2384|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:17:25.2384|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:17:25.2384|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 19:17:25.2384|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:17:25.2384|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:17:25.2384|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 19:17:25.2384|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 200 
2024-07-04 19:17:25.2384|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 19:17:25.2384|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:17:25.2384|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:17:25.2384|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) in 68.1084ms 
2024-07-04 19:17:25.2384|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:17:25.2384|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUSA" completed keep alive response. 
2024-07-04 19:17:25.2384|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5289/api/Message application/json 178 - 200 0 - 69.8596ms 
2024-07-04 19:17:43.4942|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5289/api/Message application/json 178 
2024-07-04 19:17:43.4942|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 19:17:43.4942|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Message' 
2024-07-04 19:17:43.4942|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Message' is valid for the request path '/api/Message' 
2024-07-04 19:17:43.4942|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:17:43.4942|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2024-07-04 19:17:43.4942|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2024-07-04 19:17:43.4942|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5289'. 
2024-07-04 19:17:43.4942|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2024-07-04 19:17:43.4942|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:17:43.4942|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "AddNewMessage", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewMessage(Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-04 19:17:43.4942|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-04 19:17:43.4942|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-04 19:17:43.4942|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-04 19:17:43.4942|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-04 19:17:43.4942|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-04 19:17:43.4942|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 19:17:43.4942|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 19:17:43.4942|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 19:17:43.4942|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' using the name '' in request data ... 
2024-07-04 19:17:43.4942|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2024-07-04 19:17:43.4942|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S40HBQUSA", Request id "0HN4S40HBQUSA:00000003": started reading request body. 
2024-07-04 19:17:43.4942|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S40HBQUSA", Request id "0HN4S40HBQUSA:00000003": done reading request body. 
2024-07-04 19:17:43.4942|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' 
2024-07-04 19:17:43.4942|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:17:43.4942|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:17:43.4942|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 19:17:43.4942|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:17:43.4942|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 19:17:43.4942|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:17:43.4942|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:17:43.4942|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:17:43.4942|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:17:43.5202|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-04 19:17:43.5202|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) with arguments (Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) 
2024-07-04 19:17:43.5202|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController|Вызван метод AddNewMessage 
2024-07-04 19:17:43.5202|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод CreateAsync с параметрами: message: Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 19:17:43.5202|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAsync с параметрами: id : 1 
2024-07-04 19:17:43.5202|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:43.5202|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:43.5202|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:43.5202|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:43.5202|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5202|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5202|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 19:17:43.5202|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 19:17:43.5202|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 19:17:43.5202|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:43.5202|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:43.5202|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:43.5202|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:43.5202|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод Update с параметрами: chatRoom : Goods.System.Social.Network.DomainModel.Entities.ChatRoom 
2024-07-04 19:17:43.5202|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:43.5202|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 19:17:43.5202|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 19:17:43.5202|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 19:17:43.5202|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 19:17:43.5202|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:43.5202|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:43.5202|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:43.5202|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5202|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5202|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение 2' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 19:17:43.5202|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение 2' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 19:17:43.5202|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:43.5202|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:43.5202|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'ChatRoom' entity with key '{Id: 1}' tracked by 'UserContext' changed state from 'Modified' to 'Unchanged'. 
2024-07-04 19:17:43.5202|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 19:17:43.5202|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:43.5202|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:43.5202|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.MessageRepository|Вызван метод Create с параметрами: message : Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 19:17:43.5202|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:43.5202|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"UserContext"' generated temporary value '-2147482643' for the property '"Id"."Message"'. 
2024-07-04 19:17:43.5202|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: -2147482643}'. 
2024-07-04 19:17:43.5202|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 19:17:43.5202|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 19:17:43.5202|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 19:17:43.5202|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:43.5202|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:43.5202|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:43.5202|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5202|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5202|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='1', @p1='2024-07-04T11:58:26.8370000Z', @p2='Сообщение 2' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 19:17:43.5202|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='1', @p1='2024-07-04T11:58:26.8370000Z', @p2='Сообщение 2' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 19:17:43.5202|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Message.Id' was detected as changed from '-2147482643' to '58' for entity with key '{Id: 58}'. 
2024-07-04 19:17:43.5202|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:43.5202|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:43.5202|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'Message' entity with key '{Id: 58}' tracked by 'UserContext' changed state from 'Added' to 'Unchanged'. 
2024-07-04 19:17:43.5202|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 19:17:43.5202|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:43.5202|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5202|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5202|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 19:17:43.5202|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 19:17:43.5202|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:43.5202|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:43.5202|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:43.5202|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5202|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:43.5202|0|TRACE|DomainServices.Chat.Realization.InviteService|Вызван метод GetUsersInChatAsync с параметрами: chatId: 1 
2024-07-04 19:17:43.5202|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:43.5202|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:43.5347|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:43.5347|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:43.5347|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5347|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5347|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 19:17:43.5347|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 19:17:43.5347|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-04 19:17:43.5347|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-04 19:17:43.5347|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-04 19:17:43.5347|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-04 19:17:43.5347|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:43.5347|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:43.5347|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:43.5347|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:43.5347|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 5 
2024-07-04 19:17:43.5347|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:43.5347|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:43.5347|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:43.5347|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:43.5347|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5347|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5347|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:17:43.5347|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:17:43.5347|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 5}'. 
2024-07-04 19:17:43.5347|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:43.5347|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:43.5347|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:43.5347|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:43.5347|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 6 
2024-07-04 19:17:43.5347|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:17:43.5347|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:17:43.5347|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:17:43.5347|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:17:43.5347|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5347|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:17:43.5347|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:17:43.5347|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:17:43.5347|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 6}'. 
2024-07-04 19:17:43.5347|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:17:43.5347|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:17:43.5347|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:17:43.5347|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:17:43.5347|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:17:43.5607|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkResult in 40.3178ms. 
2024-07-04 19:17:43.5607|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:17:43.5607|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:17:43.5607|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:17:43.5607|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:17:43.5607|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 19:17:43.5607|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:17:43.5607|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:17:43.5607|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 19:17:43.5607|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 200 
2024-07-04 19:17:43.5607|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 19:17:43.5607|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:17:43.5607|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:17:43.5607|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) in 64.4056ms 
2024-07-04 19:17:43.5607|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:17:43.5607|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUSA" completed keep alive response. 
2024-07-04 19:17:43.5607|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5289/api/Message application/json 178 - 200 0 - 67.4062ms 
2024-07-04 19:22:46.5717|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S40HBQUSA" received FIN. 
2024-07-04 19:22:46.5717|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S40HBQUSA" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 19:22:46.5717|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUSA" disconnecting. 
2024-07-04 19:22:46.5717|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S40HBQUSA" stopped. 
2024-07-04 19:26:44.1120|0|DEBUG|Program|init main 
2024-07-04 19:26:46.0155|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-04 19:26:46.0819|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-04 19:26:46.0819|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-04 19:26:46.0819|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-04 19:26:46.1675|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-04 19:26:46.2245|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-04 19:26:46.2624|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-04 19:26:46.2624|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-04 19:26:46.2706|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-04 19:26:46.2706|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-04 19:26:46.2706|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-04 19:26:46.2706|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-04 19:26:46.2706|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-04 19:26:46.2706|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-04 19:26:46.2706|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-04 19:26:46.2706|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-04 19:26:46.2706|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-04 19:26:46.2907|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-04 19:26:46.2907|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-04 19:26:46.2907|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-04 19:26:46.2907|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-04 19:26:46.2907|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-04 19:26:46.2907|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-04 19:26:46.2907|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-04 19:26:46.3013|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-04 19:26:46.5911|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-04 19:26:46.6256|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-04 19:26:46.6256|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-04 19:26:46.6256|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-04 19:26:46.6256|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-04 19:26:46.6256|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-04 19:26:46.6256|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-04 19:26:46.6296|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-04 19:26:46.6296|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-04 19:26:46.9678|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EO" accepted. 
2024-07-04 19:26:46.9732|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4I97A7EO" received FIN. 
2024-07-04 19:26:46.9732|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EO" started. 
2024-07-04 19:26:46.9902|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4I97A7EO" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 19:26:46.9902|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EO" disconnecting. 
2024-07-04 19:26:46.9902|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EO" stopped. 
2024-07-04 19:26:47.1740|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EP" accepted. 
2024-07-04 19:26:47.1740|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EP" started. 
2024-07-04 19:26:47.2209|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EQ" accepted. 
2024-07-04 19:26:47.2233|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EQ" started. 
2024-07-04 19:26:47.2785|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-04 19:26:47.3242|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-04 19:26:47.3242|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 19:26:47.3604|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2024-07-04 19:26:47.3604|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2024-07-04 19:26:47.5266|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-04 19:26:48.2563|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-04 19:26:48.2563|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EP" completed keep alive response. 
2024-07-04 19:26:48.2563|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 982.6898ms 
2024-07-04 19:26:48.3522|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-04 19:26:48.3522|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EP" completed keep alive response. 
2024-07-04 19:26:48.3522|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.0987ms 
2024-07-04 19:26:48.4973|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-04 19:26:48.5243|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EP" completed keep alive response. 
2024-07-04 19:26:48.5243|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.2719ms 
2024-07-04 19:26:48.8003|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-04 19:26:48.8003|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 19:26:48.8014|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2024-07-04 19:26:48.8014|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2024-07-04 19:26:48.9887|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EP" completed keep alive response. 
2024-07-04 19:26:48.9887|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 188.5830ms 
2024-07-04 19:27:47.5968|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4I97A7EQ" received FIN. 
2024-07-04 19:27:47.6228|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4I97A7EQ" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 19:27:47.6228|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EQ" disconnecting. 
2024-07-04 19:27:47.6439|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EQ" stopped. 
2024-07-04 19:28:39.0131|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5289/api/Message application/json 195 
2024-07-04 19:28:39.0131|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 19:28:39.0387|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Message' 
2024-07-04 19:28:39.0387|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Message' is valid for the request path '/api/Message' 
2024-07-04 19:28:39.0387|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:28:39.0387|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2024-07-04 19:28:39.0387|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-04 19:28:39.1075|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2024-07-04 19:28:39.1075|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5289'. 
2024-07-04 19:28:39.1075|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2024-07-04 19:28:39.1075|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:28:39.1391|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "AddNewMessage", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewMessage(Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-04 19:28:39.1391|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-04 19:28:39.1391|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-04 19:28:39.1391|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-04 19:28:39.1391|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-04 19:28:39.1391|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-04 19:28:39.1391|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 19:28:39.3677|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 19:28:39.3677|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 19:28:39.3677|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' using the name '' in request data ... 
2024-07-04 19:28:39.3677|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2024-07-04 19:28:39.3788|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S4I97A7EP", Request id "0HN4S4I97A7EP:00000005": started reading request body. 
2024-07-04 19:28:39.3788|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S4I97A7EP", Request id "0HN4S4I97A7EP:00000005": done reading request body. 
2024-07-04 19:28:39.3788|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' 
2024-07-04 19:28:39.3788|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:28:39.3788|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:28:39.3788|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 19:28:39.3788|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:28:39.3941|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 19:28:39.3941|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:28:39.3941|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:28:39.3941|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:28:39.3941|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:28:39.4754|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-04 19:28:39.4754|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) with arguments (Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) 
2024-07-04 19:28:39.4754|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController|Вызван метод AddNewMessage 
2024-07-04 19:28:39.4754|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод CreateAsync с параметрами: message: Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 19:28:39.5036|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAsync с параметрами: id : 1 
2024-07-04 19:28:39.5924|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-04 19:28:40.3267|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-04 19:28:40.5893|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:28:40.7072|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)' 
2024-07-04 19:28:40.9224|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ChatRoom>(
    asyncEnumerable: new SingleQueryingEnumerable<ChatRoom>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) c.Id, c.Description, c.LastMessage, c.Name
            FROM ChatRooms AS c
            WHERE c.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
        Goods.System.Social.Network.DAL.UserContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2024-07-04 19:28:40.9689|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:28:40.9689|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:28:41.0067|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (34ms). 
2024-07-04 19:28:41.0219|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (50ms). 
2024-07-04 19:28:41.0219|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (63ms). 
2024-07-04 19:28:41.0219|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.4232|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.4371|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 19:28:41.5127|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (82ms) [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 19:28:41.5669|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 19:28:41.5907|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.6024|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 82ms reading results. 
2024-07-04 19:28:41.6024|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.6136|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (7ms). 
2024-07-04 19:28:41.6136|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:28:41.6136|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.6136|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:28:41.6136|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод Update с параметрами: chatRoom : Goods.System.Social.Network.DomainModel.Entities.ChatRoom 
2024-07-04 19:28:41.6634|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:28:41.6808|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 19:28:41.6808|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 19:28:41.6808|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 19:28:41.6910|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 19:28:41.7568|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:28:41.7568|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:28:41.7568|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.7568|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.7568|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:28:41.7568|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:28:41.7568|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:28:41.7568|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение в чат1' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 19:28:41.7726|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение в чат1' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 19:28:41.7726|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.7726|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 6ms reading results. 
2024-07-04 19:28:41.7726|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.7726|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:28:41.7873|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'ChatRoom' entity with key '{Id: 1}' tracked by 'UserContext' changed state from 'Modified' to 'Unchanged'. 
2024-07-04 19:28:41.7873|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 19:28:41.7873|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:28:41.7873|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.7873|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:28:41.7873|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.MessageRepository|Вызван метод Create с параметрами: message : Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 19:28:41.7873|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:28:41.8067|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"UserContext"' generated temporary value '-2147482647' for the property '"Id"."Message"'. 
2024-07-04 19:28:41.8356|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: -2147482647}'. 
2024-07-04 19:28:41.8356|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 19:28:41.8356|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 19:28:41.8356|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 19:28:41.8554|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:28:41.8554|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:28:41.8554|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.8554|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.8554|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:28:41.8554|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:28:41.8554|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:28:41.8554|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='1', @p1='2024-07-04T12:27:31.4340000Z', @p2='Сообщение в чат1' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 19:28:41.8696|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[@p0='1', @p1='2024-07-04T12:27:31.4340000Z', @p2='Сообщение в чат1' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 19:28:41.8793|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Message.Id' was detected as changed from '-2147482647' to '59' for entity with key '{Id: 59}'. 
2024-07-04 19:28:41.8793|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.8793|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 16ms reading results. 
2024-07-04 19:28:41.8793|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.8793|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:28:41.8793|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'Message' entity with key '{Id: 59}' tracked by 'UserContext' changed state from 'Added' to 'Unchanged'. 
2024-07-04 19:28:41.8793|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 19:28:41.8793|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Message>()
    .Max(m => m.Id)' 
2024-07-04 19:28:41.9144|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT MAX(m.Id)
        FROM Messages AS m), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)
    .Single()' 
2024-07-04 19:28:41.9144|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:28:41.9144|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:28:41.9144|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:28:41.9144|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9144|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9144|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 19:28:41.9144|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 19:28:41.9144|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9144|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:28:41.9144|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9144|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:28:41.9144|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:28:41.9144|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9144|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:28:41.9144|0|TRACE|DomainServices.Chat.Realization.InviteService|Вызван метод GetUsersInChatAsync с параметрами: chatId: 1 
2024-07-04 19:28:41.9346|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:28:41.9346|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoomUser>()' 
2024-07-04 19:28:41.9346|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoomUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoomUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoomUser.ChatRoomId (int) Required FK Index, 1], [Property: ChatRoomUser.UserId (int) Required FK Index, 2] }
        SELECT c.Id, c.ChatRoomId, c.UserId
        FROM ChatRoomUsers AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoomUser>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-04 19:28:41.9346|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:28:41.9346|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:28:41.9346|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:28:41.9346|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:28:41.9346|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:28:41.9346|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9346|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9346|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 19:28:41.9478|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 19:28:41.9478|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-04 19:28:41.9478|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-04 19:28:41.9478|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-04 19:28:41.9478|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-04 19:28:41.9478|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9478|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 5ms reading results. 
2024-07-04 19:28:41.9478|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9478|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:28:41.9478|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:28:41.9478|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9478|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:28:41.9478|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 5 
2024-07-04 19:28:41.9478|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:28:41.9565|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)' 
2024-07-04 19:28:41.9565|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Avatar (string) Required MaxLength(20), 1], [Property: User.Background (string) Required MaxLength(20), 2], [Property: User.City (string) Required MaxLength(25), 3], [Property: User.Country (string) Required MaxLength(25), 4], [Property: User.DateBirthday (DateTime) Required, 5], [Property: User.Email (string) Required MaxLength(182), 6], [Property: User.FirstName (string) Required MaxLength(25), 7], [Property: User.LastName (string) Required MaxLength(25), 8], [Property: User.Password (string) Required MaxLength(100), 9], [Property: User.Phone (string) Required MaxLength(11), 10], [Property: User.SettingNotificationId (int) Required FK Index, 11], [Property: User.SettingPrivacyId (int) Required FK Index, 12], [Property: User.Status (string) Required MaxLength(100), 13] }
            SELECT TOP(1) u.Id, u.Avatar, u.Background, u.City, u.Country, u.DateBirthday, u.Email, u.FirstName, u.LastName, u.Password, u.Phone, u.SettingNotificationId, u.SettingPrivacyId, u.Status
            FROM Users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Goods.System.Social.Network.DAL.UserContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2024-07-04 19:28:41.9565|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:28:41.9565|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:28:41.9565|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:28:41.9565|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:28:41.9565|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:28:41.9565|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9565|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9565|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:28:41.9565|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:28:41.9797|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 5}'. 
2024-07-04 19:28:41.9994|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9994|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 36ms reading results. 
2024-07-04 19:28:41.9994|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9994|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:28:41.9994|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:28:41.9994|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:41.9994|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:28:41.9994|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 6 
2024-07-04 19:28:41.9994|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:28:41.9994|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:28:41.9994|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:28:41.9994|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:28:41.9994|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:28:41.9994|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:28:41.9994|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:42.0036|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:42.0036|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:28:42.0036|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:28:42.0036|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 6}'. 
2024-07-04 19:28:42.0036|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:42.0036|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:28:42.0036|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:42.0036|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:28:42.0036|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:28:42.0036|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:28:42.0036|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:28:42.2341|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkResult in 2756.0343ms. 
2024-07-04 19:28:42.2341|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:28:42.2341|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:28:42.2341|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:28:42.2579|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:28:42.2579|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 19:28:42.2579|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:28:42.2579|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:28:42.2579|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 19:28:42.2579|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 200 
2024-07-04 19:28:42.2579|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 19:28:42.2579|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:28:42.2579|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:28:42.2579|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) in 3122.8646ms 
2024-07-04 19:28:42.2579|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:28:42.2579|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4I97A7EP" completed keep alive response. 
2024-07-04 19:28:42.2579|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5289/api/Message application/json 195 - 200 0 - 3253.4589ms 
2024-07-04 19:30:20.6010|0|DEBUG|Program|init main 
2024-07-04 19:30:44.8951|0|DEBUG|Program|init main 
2024-07-04 19:30:46.8824|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-04 19:30:46.9982|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-04 19:30:46.9982|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-04 19:30:47.0087|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-04 19:30:47.1199|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-04 19:30:47.2048|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-04 19:30:47.2631|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-04 19:30:47.2829|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-04 19:30:47.2864|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-04 19:30:47.2864|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-04 19:30:47.2864|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-04 19:30:47.2864|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-04 19:30:47.2864|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-04 19:30:47.2864|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-04 19:30:47.2864|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-04 19:30:47.2864|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-04 19:30:47.2864|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-04 19:30:47.3064|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-04 19:30:47.3064|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-04 19:30:47.3064|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-04 19:30:47.3064|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-04 19:30:47.3174|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-04 19:30:47.3174|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-04 19:30:47.3174|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-04 19:30:47.3174|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-04 19:30:47.4671|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-04 19:30:47.4736|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-04 19:30:47.4736|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-04 19:30:47.4736|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-04 19:30:47.4736|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-04 19:30:47.4736|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-04 19:30:47.4736|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-04 19:30:47.4736|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-04 19:30:47.4736|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-04 19:30:47.7717|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRP" accepted. 
2024-07-04 19:30:47.7717|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRP" started. 
2024-07-04 19:30:47.7717|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRQ" accepted. 
2024-07-04 19:30:47.7717|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRQ" started. 
2024-07-04 19:30:47.8095|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4KGVPQRP" received FIN. 
2024-07-04 19:30:47.8095|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4KGVPQRQ" received FIN. 
2024-07-04 19:30:47.8095|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4KGVPQRP" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 19:30:47.8095|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4KGVPQRQ" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 19:30:47.8266|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRQ" disconnecting. 
2024-07-04 19:30:47.8266|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRP" disconnecting. 
2024-07-04 19:30:47.8266|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRQ" stopped. 
2024-07-04 19:30:47.8266|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRP" stopped. 
2024-07-04 19:30:55.0515|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRR" accepted. 
2024-07-04 19:30:55.0515|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRR" started. 
2024-07-04 19:30:55.0862|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRS" accepted. 
2024-07-04 19:30:55.0862|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRS" started. 
2024-07-04 19:30:55.1286|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-04 19:30:55.1647|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-04 19:30:55.1647|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 19:30:55.2147|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/index.html' 
2024-07-04 19:30:55.2147|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2024-07-04 19:30:55.4094|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-04 19:30:55.5410|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-04 19:30:55.5410|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRR" completed keep alive response. 
2024-07-04 19:30:55.5410|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 416.4368ms 
2024-07-04 19:30:55.5793|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-04 19:30:55.5823|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRR" completed keep alive response. 
2024-07-04 19:30:55.5823|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 3.2653ms 
2024-07-04 19:30:55.5823|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-04 19:30:55.6322|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRR" completed keep alive response. 
2024-07-04 19:30:55.6322|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.6645ms 
2024-07-04 19:30:55.7332|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-04 19:30:55.7332|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 19:30:55.7332|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/swagger/v1/swagger.json' 
2024-07-04 19:30:55.7332|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2024-07-04 19:30:55.9396|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRR" completed keep alive response. 
2024-07-04 19:30:55.9396|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 206.7279ms 
2024-07-04 19:31:55.5833|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4KGVPQRS" received FIN. 
2024-07-04 19:31:55.5833|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRS" disconnecting. 
2024-07-04 19:31:55.5833|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4KGVPQRS" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 19:31:55.6003|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRS" stopped. 
2024-07-04 19:34:52.6651|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5289/api/Message application/json 195 
2024-07-04 19:34:52.6651|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 19:34:52.6890|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Message' 
2024-07-04 19:34:52.6919|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Message' is valid for the request path '/api/Message' 
2024-07-04 19:34:52.6919|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:34:52.6919|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2024-07-04 19:34:52.6919|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-04 19:34:52.7704|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2024-07-04 19:34:52.7704|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5289'. 
2024-07-04 19:34:52.7704|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2024-07-04 19:34:52.7704|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:34:52.7899|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "AddNewMessage", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewMessage(Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-04 19:34:52.7899|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-04 19:34:52.7899|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-04 19:34:52.7899|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-04 19:34:52.7899|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-04 19:34:52.7899|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-04 19:34:52.7899|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 19:34:53.0641|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 19:34:53.0680|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 19:34:53.0680|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' using the name '' in request data ... 
2024-07-04 19:34:53.0680|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2024-07-04 19:34:53.0680|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S4KGVPQRR", Request id "0HN4S4KGVPQRR:00000005": started reading request body. 
2024-07-04 19:34:53.0817|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S4KGVPQRR", Request id "0HN4S4KGVPQRR:00000005": done reading request body. 
2024-07-04 19:34:53.0817|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' 
2024-07-04 19:34:53.0817|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:34:53.0817|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:34:53.0817|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 19:34:53.1027|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 19:34:53.1027|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 19:34:53.1027|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:34:53.1027|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:34:53.1027|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:34:53.1027|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:34:53.1877|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-04 19:34:53.1877|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) with arguments (Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) 
2024-07-04 19:34:53.1877|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController|Вызван метод AddNewMessage 
2024-07-04 19:34:53.2021|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод CreateAsync с параметрами: message: Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 19:34:53.2230|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAsync с параметрами: id : 1 
2024-07-04 19:34:53.3300|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-04 19:34:54.0590|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-04 19:34:54.3154|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:34:54.4296|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)' 
2024-07-04 19:34:54.6489|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ChatRoom>(
    asyncEnumerable: new SingleQueryingEnumerable<ChatRoom>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) c.Id, c.Description, c.LastMessage, c.Name
            FROM ChatRooms AS c
            WHERE c.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
        Goods.System.Social.Network.DAL.UserContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2024-07-04 19:34:54.6976|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:34:54.6976|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:34:54.7244|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (23ms). 
2024-07-04 19:34:54.7244|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (32ms). 
2024-07-04 19:34:54.7412|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (45ms). 
2024-07-04 19:34:54.7412|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.1463|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.1624|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 19:34:55.2367|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (82ms) [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 19:34:55.3033|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 19:34:55.3261|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.3342|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 93ms reading results. 
2024-07-04 19:34:55.3342|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.3342|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (6ms). 
2024-07-04 19:34:55.3342|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:34:55.3498|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.3498|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (1ms). 
2024-07-04 19:34:55.3498|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод Update с параметрами: chatRoom : Goods.System.Social.Network.DomainModel.Entities.ChatRoom 
2024-07-04 19:34:55.4016|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:34:55.4225|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 19:34:55.4225|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 19:34:55.4263|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 19:34:55.4263|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 19:34:55.5069|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:34:55.5069|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:34:55.5069|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.5069|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.5069|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:34:55.5069|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:34:55.5069|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:34:55.5069|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение в чат1' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 19:34:55.5208|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение в чат1' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 19:34:55.5208|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.5208|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 6ms reading results. 
2024-07-04 19:34:55.5208|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.5208|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:34:55.5352|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'ChatRoom' entity with key '{Id: 1}' tracked by 'UserContext' changed state from 'Modified' to 'Unchanged'. 
2024-07-04 19:34:55.5352|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 19:34:55.5352|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:34:55.5352|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.5352|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:34:55.5352|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.MessageRepository|Вызван метод Create с параметрами: message : Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 19:34:55.5352|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:34:55.5574|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"UserContext"' generated temporary value '-2147482647' for the property '"Id"."Message"'. 
2024-07-04 19:34:55.5843|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: -2147482647}'. 
2024-07-04 19:34:55.5843|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 19:34:55.5843|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 19:34:55.5843|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 19:34:55.6121|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:34:55.6121|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:34:55.6121|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.6121|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.6121|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:34:55.6121|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:34:55.6121|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:34:55.6121|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='1', @p1='2024-07-04T12:27:31.4340000Z', @p2='Сообщение в чат1' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 19:34:55.6181|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p0='1', @p1='2024-07-04T12:27:31.4340000Z', @p2='Сообщение в чат1' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 19:34:55.6181|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Message.Id' was detected as changed from '-2147482647' to '60' for entity with key '{Id: 60}'. 
2024-07-04 19:34:55.6354|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.6354|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 17ms reading results. 
2024-07-04 19:34:55.6354|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.6354|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:34:55.6354|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'Message' entity with key '{Id: 60}' tracked by 'UserContext' changed state from 'Added' to 'Unchanged'. 
2024-07-04 19:34:55.6354|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 19:34:55.6354|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Message>()
    .Max(m => m.Id)' 
2024-07-04 19:34:55.6782|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT MAX(m.Id)
        FROM Messages AS m), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)
    .Single()' 
2024-07-04 19:34:55.6782|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:34:55.6782|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:34:55.6782|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:34:55.6782|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.6782|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.6782|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 19:34:55.6909|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 19:34:55.6909|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.6909|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 1ms reading results. 
2024-07-04 19:34:55.6909|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.6909|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:34:55.6909|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:34:55.6909|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.6909|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:34:55.6909|0|TRACE|DomainServices.Chat.Realization.InviteService|Вызван метод GetUsersInChatAsync с параметрами: chatId: 1 
2024-07-04 19:34:55.7133|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:34:55.7133|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoomUser>()' 
2024-07-04 19:34:55.7250|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoomUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoomUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoomUser.ChatRoomId (int) Required FK Index, 1], [Property: ChatRoomUser.UserId (int) Required FK Index, 2] }
        SELECT c.Id, c.ChatRoomId, c.UserId
        FROM ChatRoomUsers AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoomUser>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-04 19:34:55.7250|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:34:55.7250|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:34:55.7250|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:34:55.7250|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:34:55.7250|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:34:55.7250|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7250|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7250|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 19:34:55.7250|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 19:34:55.7250|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-04 19:34:55.7250|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-04 19:34:55.7250|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-04 19:34:55.7250|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-04 19:34:55.7250|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7250|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 8ms reading results. 
2024-07-04 19:34:55.7250|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7250|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:34:55.7250|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:34:55.7250|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7250|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:34:55.7388|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 5 
2024-07-04 19:34:55.7388|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:34:55.7388|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)' 
2024-07-04 19:34:55.7388|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Avatar (string) Required MaxLength(20), 1], [Property: User.Background (string) Required MaxLength(20), 2], [Property: User.City (string) Required MaxLength(25), 3], [Property: User.Country (string) Required MaxLength(25), 4], [Property: User.DateBirthday (DateTime) Required, 5], [Property: User.Email (string) Required MaxLength(182), 6], [Property: User.FirstName (string) Required MaxLength(25), 7], [Property: User.LastName (string) Required MaxLength(25), 8], [Property: User.Password (string) Required MaxLength(100), 9], [Property: User.Phone (string) Required MaxLength(11), 10], [Property: User.SettingNotificationId (int) Required FK Index, 11], [Property: User.SettingPrivacyId (int) Required FK Index, 12], [Property: User.Status (string) Required MaxLength(100), 13] }
            SELECT TOP(1) u.Id, u.Avatar, u.Background, u.City, u.Country, u.DateBirthday, u.Email, u.FirstName, u.LastName, u.Password, u.Phone, u.SettingNotificationId, u.SettingPrivacyId, u.Status
            FROM Users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Goods.System.Social.Network.DAL.UserContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2024-07-04 19:34:55.7388|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:34:55.7388|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:34:55.7388|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:34:55.7388|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:34:55.7388|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:34:55.7388|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7388|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7388|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:34:55.7388|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:34:55.7642|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 5}'. 
2024-07-04 19:34:55.7841|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7841|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 37ms reading results. 
2024-07-04 19:34:55.7841|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7841|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:34:55.7841|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:34:55.7841|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7841|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:34:55.7841|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 6 
2024-07-04 19:34:55.7841|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 19:34:55.7874|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 19:34:55.7874|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 19:34:55.7874|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 19:34:55.7874|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:34:55.7874|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 19:34:55.7874|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7874|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7874|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:34:55.7874|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 19:34:55.7874|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 6}'. 
2024-07-04 19:34:55.7874|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7874|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 19:34:55.7874|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7874|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 19:34:55.7874|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 19:34:55.7874|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 19:34:55.7874|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 19:34:56.0244|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkResult in 2833.8797ms. 
2024-07-04 19:34:56.0244|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:34:56.0244|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 19:34:56.0244|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:34:56.0244|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 19:34:56.0244|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 19:34:56.0244|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:34:56.0244|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:34:56.0244|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 19:34:56.0244|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 200 
2024-07-04 19:34:56.0244|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 19:34:56.0244|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:34:56.0244|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 19:34:56.0346|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) in 3241.0132ms 
2024-07-04 19:34:56.0346|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 19:34:56.0346|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRR" completed keep alive response. 
2024-07-04 19:34:56.0346|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5289/api/Message application/json 195 - 200 0 - 3372.4971ms 
2024-07-04 19:39:57.4045|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4KGVPQRR" received FIN. 
2024-07-04 19:39:57.4045|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4KGVPQRR" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 19:39:57.4045|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRR" disconnecting. 
2024-07-04 19:39:57.4170|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRR" stopped. 
2024-07-04 20:36:20.0339|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRT" accepted. 
2024-07-04 20:36:20.0398|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRT" started. 
2024-07-04 20:36:20.0510|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5289/api/Message application/json 195 
2024-07-04 20:36:20.0510|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-04 20:36:20.0510|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Message' 
2024-07-04 20:36:20.0510|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Message' is valid for the request path '/api/Message' 
2024-07-04 20:36:20.0510|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 20:36:20.0510|15|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint. 
2024-07-04 20:36:20.0510|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2024-07-04 20:36:20.0510|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5289'. 
2024-07-04 20:36:20.0510|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2024-07-04 20:36:20.0510|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 20:36:20.0510|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "AddNewMessage", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewMessage(Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-04 20:36:20.0510|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-04 20:36:20.0510|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-04 20:36:20.0510|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-04 20:36:20.0510|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-04 20:36:20.0510|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-04 20:36:20.0510|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 20:36:20.0510|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-04 20:36:20.0673|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 20:36:20.0673|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' using the name '' in request data ... 
2024-07-04 20:36:20.0673|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2024-07-04 20:36:20.0673|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S4KGVPQRT", Request id "0HN4S4KGVPQRT:00000001": started reading request body. 
2024-07-04 20:36:20.0673|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN4S4KGVPQRT", Request id "0HN4S4KGVPQRT:00000001": done reading request body. 
2024-07-04 20:36:20.0818|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' 
2024-07-04 20:36:20.0818|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 20:36:20.0818|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 20:36:20.0818|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel' ... 
2024-07-04 20:36:20.0818|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'messageViewModel' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel'. 
2024-07-04 20:36:20.0818|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 20:36:20.0818|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 20:36:20.0818|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 20:36:20.0818|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 20:36:20.0818|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 20:36:20.1165|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-04 20:36:20.1165|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) with arguments (Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.MessageViewModel) 
2024-07-04 20:36:20.1165|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController|Вызван метод AddNewMessage 
2024-07-04 20:36:20.1165|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод CreateAsync с параметрами: message: Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 20:36:20.1165|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAsync с параметрами: id : 1 
2024-07-04 20:36:20.1165|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 20:36:20.1165|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 20:36:20.1165|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 20:36:20.1165|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 20:36:20.1165|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1165|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1165|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1481|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1481|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 20:36:20.1481|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[@__p_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-04 20:36:20.1481|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 20:36:20.1481|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1481|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 20:36:20.1481|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1481|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 20:36:20.1481|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 20:36:20.1481|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1481|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 20:36:20.1481|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод Update с параметрами: chatRoom : Goods.System.Social.Network.DomainModel.Entities.ChatRoom 
2024-07-04 20:36:20.1481|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 20:36:20.1604|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-04 20:36:20.1604|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 20:36:20.1604|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 20:36:20.1604|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 20:36:20.1604|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 20:36:20.1604|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 20:36:20.1604|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1604|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1604|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 20:36:20.1604|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1604|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1604|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение в чат1' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 20:36:20.1604|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p3='1', @p0='ЧАТ1' (Nullable = false) (Size = 100), @p1='Сообщение в чат1' (Nullable = false) (Size = 500), @p2='ЧАТ1' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-04 20:36:20.1604|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1604|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 20:36:20.1604|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1604|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 20:36:20.1604|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'ChatRoom' entity with key '{Id: 1}' tracked by 'UserContext' changed state from 'Modified' to 'Unchanged'. 
2024-07-04 20:36:20.1604|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 20:36:20.1604|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 20:36:20.1604|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1604|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 20:36:20.1604|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.MessageRepository|Вызван метод Create с параметрами: message : Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-04 20:36:20.1604|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 20:36:20.1604|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"UserContext"' generated temporary value '-2147482646' for the property '"Id"."Message"'. 
2024-07-04 20:36:20.1604|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: -2147482646}'. 
2024-07-04 20:36:20.1604|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-04 20:36:20.1604|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-04 20:36:20.1604|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-04 20:36:20.1604|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 20:36:20.1604|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 20:36:20.1604|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1604|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1604|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 20:36:20.1604|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1604|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1604|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='1', @p1='2024-07-04T12:27:31.4340000Z', @p2='Сообщение в чат1' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 20:36:20.1604|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p0='1', @p1='2024-07-04T12:27:31.4340000Z', @p2='Сообщение в чат1' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-04 20:36:20.1604|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Message.Id' was detected as changed from '-2147482646' to '61' for entity with key '{Id: 61}'. 
2024-07-04 20:36:20.1604|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1604|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 20:36:20.1604|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1604|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 20:36:20.1604|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'Message' entity with key '{Id: 61}' tracked by 'UserContext' changed state from 'Added' to 'Unchanged'. 
2024-07-04 20:36:20.1604|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-04 20:36:20.1756|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 20:36:20.1756|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1756|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1756|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 20:36:20.1756|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-04 20:36:20.1756|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 20:36:20.1756|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 20:36:20.1756|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 20:36:20.1756|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 20:36:20.1756|0|TRACE|DomainServices.Chat.Realization.InviteService|Вызван метод GetUsersInChatAsync с параметрами: chatId: 1 
2024-07-04 20:36:20.1756|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 20:36:20.1756|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 20:36:20.1756|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 20:36:20.1756|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 20:36:20.1756|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1756|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1756|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 20:36:20.1756|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-04 20:36:20.1756|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-04 20:36:20.1756|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-04 20:36:20.1756|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-04 20:36:20.1756|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-04 20:36:20.1756|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 20:36:20.1756|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 20:36:20.1756|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 20:36:20.1756|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 20:36:20.1756|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 5 
2024-07-04 20:36:20.1756|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 20:36:20.1756|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 20:36:20.1756|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 20:36:20.1756|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 20:36:20.1756|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1756|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1756|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 20:36:20.1756|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 20:36:20.1756|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 5}'. 
2024-07-04 20:36:20.1756|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 20:36:20.1756|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 20:36:20.1756|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 20:36:20.1756|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1756|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 20:36:20.1756|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.UserRepository|Вызван метод GetAsync с параметрами: id : 6 
2024-07-04 20:36:20.1916|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-04 20:36:20.1916|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-04 20:36:20.1916|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-04 20:36:20.1916|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-04 20:36:20.1916|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1916|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-04 20:36:20.1916|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1916|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1916|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 20:36:20.1916|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__p_0='6'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-04 20:36:20.1916|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 6}'. 
2024-07-04 20:36:20.1916|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1916|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-04 20:36:20.1916|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1916|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-04 20:36:20.1916|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-04 20:36:20.1916|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-04 20:36:20.1916|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-04 20:36:20.2150|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkResult in 98.3065ms. 
2024-07-04 20:36:20.2150|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 20:36:20.2150|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-04 20:36:20.2150|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 20:36:20.2150|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-04 20:36:20.2150|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-04 20:36:20.2150|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 20:36:20.2150|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 20:36:20.2150|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 20:36:20.2150|1|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 200 
2024-07-04 20:36:20.2150|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkResult. 
2024-07-04 20:36:20.2150|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 20:36:20.2150|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-04 20:36:20.2150|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats) in 154.9454ms 
2024-07-04 20:36:20.2150|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.MessageController.AddNewMessage (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-04 20:36:20.2150|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRT" completed keep alive response. 
2024-07-04 20:36:20.2150|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST http://localhost:5289/api/Message application/json 195 - 200 0 - 165.0909ms 
2024-07-04 20:41:20.5811|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4KGVPQRT" received FIN. 
2024-07-04 20:41:20.5826|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN4S4KGVPQRT" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-04 20:41:20.5826|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRT" disconnecting. 
2024-07-04 20:41:20.5826|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN4S4KGVPQRT" stopped. 
