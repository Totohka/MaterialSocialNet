2024-07-17 00:13:23.0866|0|DEBUG|Program|init main 
2024-07-17 00:13:24.2252|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:13:24.3119|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:13:24.3119|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:13:24.3119|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:13:24.7793|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:13:24.8378|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:13:24.8807|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:13:24.9713|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:13:24.9769|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:13:24.9769|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:13:24.9769|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:13:24.9769|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:13:24.9914|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:13:24.9914|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:13:24.9914|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:13:24.9914|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:13:24.9914|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:13:25.0062|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:13:25.0062|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:13:25.0062|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:13:25.0062|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:13:25.0062|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:13:25.0062|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:13:25.0198|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:13:25.0198|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:13:25.2017|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:13:25.2196|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:13:25.2196|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:13:25.2196|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:13:25.2196|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:13:25.2320|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:13:25.2382|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:13:25.2382|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:13:25.2382|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:13:25.5267|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJP" accepted. 
2024-07-17 00:13:25.5267|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJO" accepted. 
2024-07-17 00:13:25.5267|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJP" started. 
2024-07-17 00:13:25.5267|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJO" started. 
2024-07-17 00:13:25.8645|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJQ" accepted. 
2024-07-17 00:13:25.8645|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJQ" started. 
2024-07-17 00:13:25.8839|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJR" accepted. 
2024-07-17 00:13:25.8839|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJR" started. 
2024-07-17 00:13:25.9802|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:13:26.0228|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:13:26.0228|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:13:26.1867|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:13:26.3688|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:13:26.3688|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJR" completed keep alive response. 
2024-07-17 00:13:26.3688|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJS" accepted. 
2024-07-17 00:13:26.3688|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJS" started. 
2024-07-17 00:13:26.3688|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:13:26.3688|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 5.9606ms 
2024-07-17 00:13:26.3807|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:13:26.3807|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJQ" completed keep alive response. 
2024-07-17 00:13:26.3807|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 404.6982ms 
2024-07-17 00:13:26.4313|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJS" completed keep alive response. 
2024-07-17 00:13:26.4313|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.3476ms 
2024-07-17 00:13:26.4805|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:13:26.4805|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:13:26.5999|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJS" completed keep alive response. 
2024-07-17 00:13:26.5999|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 119.5830ms 
2024-07-17 00:13:31.1253|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:13:31.1253|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:13:31.1253|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:13:31.1253|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:13:31.1999|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2024-07-17 00:13:31.2225|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:13:31.2249|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:13:31.2249|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:13:31.2249|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2024-07-17 00:13:31.2249|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2024-07-17 00:13:31.2249|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAD8RTJS" completed keep alive response. 
2024-07-17 00:13:31.2249|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - - 401 0 - 108.1655ms 
2024-07-17 00:13:49.8645|0|DEBUG|Program|init main 
2024-07-17 00:13:51.1061|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:13:51.1722|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:13:51.1759|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:13:51.1759|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:13:51.3532|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:13:51.4245|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:13:51.4622|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:13:51.4622|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:13:51.4622|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:13:51.4727|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:13:51.4727|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:13:51.4727|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:13:51.4727|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:13:51.4727|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:13:51.4727|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:13:51.4727|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:13:51.4727|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:13:51.4727|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:13:51.4894|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:13:51.4894|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:13:51.4894|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:13:51.4894|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:13:51.4894|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:13:51.4894|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:13:51.4894|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:13:51.6292|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:13:51.6292|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:13:51.6292|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:13:51.6292|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:13:51.6292|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:13:51.6292|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:13:51.6292|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:13:51.6292|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:13:51.6292|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:13:52.0171|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SN" accepted. 
2024-07-17 00:13:52.0171|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SN" started. 
2024-07-17 00:13:52.0248|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SO" accepted. 
2024-07-17 00:13:52.0248|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SO" started. 
2024-07-17 00:13:52.0575|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NAL5G6SN" received FIN. 
2024-07-17 00:13:52.0575|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NAL5G6SO" received FIN. 
2024-07-17 00:13:52.0575|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NAL5G6SN" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:13:52.0575|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NAL5G6SO" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:13:52.0709|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SN" disconnecting. 
2024-07-17 00:13:52.0709|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SO" disconnecting. 
2024-07-17 00:13:52.0861|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SO" stopped. 
2024-07-17 00:13:52.0861|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SN" stopped. 
2024-07-17 00:13:52.1468|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SP" accepted. 
2024-07-17 00:13:52.1468|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SP" started. 
2024-07-17 00:13:52.1728|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SQ" accepted. 
2024-07-17 00:13:52.1728|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SQ" started. 
2024-07-17 00:13:52.2127|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:13:52.2445|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:13:52.2445|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:13:52.3651|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:13:52.4479|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SR" accepted. 
2024-07-17 00:13:52.4479|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SR" started. 
2024-07-17 00:13:52.4479|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:13:52.4479|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:13:52.4638|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SQ" completed keep alive response. 
2024-07-17 00:13:52.4638|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 14.1442ms 
2024-07-17 00:13:52.4638|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:13:52.4638|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SP" completed keep alive response. 
2024-07-17 00:13:52.4735|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 262.2045ms 
2024-07-17 00:13:52.4735|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SR" completed keep alive response. 
2024-07-17 00:13:52.4735|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.3151ms 
2024-07-17 00:13:52.5433|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:13:52.5433|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:13:52.6724|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NAL5G6SR" completed keep alive response. 
2024-07-17 00:13:52.6724|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 129.4663ms 
2024-07-17 00:13:56.4084|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:13:56.4084|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:13:56.4105|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:13:56.4105|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:13:56.4712|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2024-07-17 00:13:56.4958|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:13:56.4958|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:13:56.4958|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:13:56.4958|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:13:56.5285|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:13:56.5285|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:13:56.5285|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:13:56.5285|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:13:56.5285|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:13:56.5285|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:13:56.5285|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:13:56.6704|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:13:56.6799|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:13:56.6799|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:13:56.6799|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:13:56.6799|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:13:56.6799|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:13:56.6799|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:13:56.6799|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:13:56.6799|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:13:56.6799|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:13:56.6799|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:13:56.6799|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:13:56.6799|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:13:56.6799|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:13:56.6799|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:13:56.6799|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:13:56.6799|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:13:56.6799|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:13:56.6799|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:13:56.7680|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:13:56.7680|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:13:56.7680|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:15:27.7952|0|DEBUG|Program|init main 
2024-07-17 00:15:29.1670|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:15:29.2356|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:15:29.2356|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:15:29.2406|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:15:29.2925|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:15:29.3415|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:15:29.3723|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:15:29.3787|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:15:29.3787|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:15:29.3787|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:15:29.3787|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:15:29.3787|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:15:29.3787|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:15:29.3787|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:15:29.3787|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:15:29.3787|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:15:29.3787|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:15:29.3787|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:15:29.3787|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:15:29.3956|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:15:29.3956|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:15:29.3956|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:15:29.3956|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:15:29.3956|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:15:29.3956|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:15:29.4924|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:15:29.4924|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:15:29.4924|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:15:29.4924|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:15:29.4924|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:15:29.4924|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:15:29.4924|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:15:29.4924|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:15:29.4924|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:15:29.5139|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NBI79SJ3" received FIN. 
2024-07-17 00:15:29.5139|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ3" accepted. 
2024-07-17 00:15:29.5139|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ3" started. 
2024-07-17 00:15:29.5249|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NBI79SJ3" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:15:29.5249|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ3" disconnecting. 
2024-07-17 00:15:29.5249|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ3" stopped. 
2024-07-17 00:15:29.6166|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ4" accepted. 
2024-07-17 00:15:29.6166|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ4" started. 
2024-07-17 00:15:29.6450|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ5" accepted. 
2024-07-17 00:15:29.6450|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ5" started. 
2024-07-17 00:15:29.6956|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:15:29.7234|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:15:29.7234|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:15:29.8405|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:15:29.9349|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:15:29.9349|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ6" accepted. 
2024-07-17 00:15:29.9349|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ6" started. 
2024-07-17 00:15:29.9349|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:15:29.9349|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ5" completed keep alive response. 
2024-07-17 00:15:29.9349|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 3.5415ms 
2024-07-17 00:15:29.9416|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:15:29.9416|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ4" completed keep alive response. 
2024-07-17 00:15:29.9416|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 250.1461ms 
2024-07-17 00:15:29.9742|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ6" completed keep alive response. 
2024-07-17 00:15:29.9742|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.5104ms 
2024-07-17 00:15:30.0330|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:15:30.0330|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:15:30.1598|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ6" completed keep alive response. 
2024-07-17 00:15:30.1598|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 126.9933ms 
2024-07-17 00:15:34.8667|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:15:34.8667|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:15:34.8667|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:15:34.8667|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:15:34.9328|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2024-07-17 00:15:34.9584|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:15:34.9584|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:15:34.9584|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:15:34.9584|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2024-07-17 00:15:34.9584|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2024-07-17 00:15:34.9584|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ6" completed keep alive response. 
2024-07-17 00:15:34.9584|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - - 401 0 - 101.9467ms 
2024-07-17 00:15:40.1081|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ7" accepted. 
2024-07-17 00:15:40.1081|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NBI79SJ7" received FIN. 
2024-07-17 00:15:40.1081|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ7" started. 
2024-07-17 00:15:40.1081|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NBI79SJ7" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:15:40.1081|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ8" accepted. 
2024-07-17 00:15:40.1081|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ8" started. 
2024-07-17 00:15:40.1081|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ7" disconnecting. 
2024-07-17 00:15:40.1081|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NBI79SJ7" stopped. 
2024-07-17 00:15:40.1081|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:15:40.1081|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:15:40.1081|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:15:40.3239|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:15:40.3239|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:15:40.3239|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:15:40.3239|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:15:40.3239|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:15:40.3239|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:15:40.3239|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:15:40.3465|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:15:40.3465|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:15:40.3465|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:15:40.3465|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:15:40.3465|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:15:40.3465|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:15:40.3481|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:15:40.4595|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:15:40.4595|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:15:40.4595|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:15:40.4595|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:15:40.4595|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:15:40.4595|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:15:40.4595|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:15:40.4595|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:15:40.4595|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:15:40.4595|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:15:40.4595|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:15:40.4595|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:15:40.4595|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:15:40.4595|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:15:40.4595|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:15:40.4595|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:15:40.4595|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:15:40.4595|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:15:40.4595|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:15:40.5575|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:15:40.5575|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:15:40.5575|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:15:40.5575|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:15:40.5915|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:15:40.6713|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:15:53.2407|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:15:53.4898|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:15:53.5949|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .OrderBy(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:15:53.9005|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
        SELECT c.Id, c.Description, c.LastMessage, c.Name
        FROM ChatRooms AS c
        ORDER BY (
            SELECT MAX(m.DateSend)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:15:53.9433|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:15:53.9433|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:15:53.9667|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (20ms). 
2024-07-17 00:15:53.9734|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (29ms). 
2024-07-17 00:15:53.9734|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (32ms). 
2024-07-17 00:15:53.9734|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:15:54.3331|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:15:54.3331|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) 
2024-07-17 00:15:54.3805|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) 
2024-07-17 00:15:54.4279|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:15:54.4421|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:15:54.4421|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:15:54.4421|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:15:54.4421|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:15:54.4421|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 65ms reading results. 
2024-07-17 00:15:54.4421|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:15:54.4421|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (5ms). 
2024-07-17 00:15:54.5115|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:15:54.5115|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:15:54.5115|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:29:41.1056|0|DEBUG|Program|init main 
2024-07-17 00:29:42.1554|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:29:42.2265|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:29:42.2265|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:29:42.2265|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:29:42.3188|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:29:42.3922|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:29:42.4365|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:29:42.4463|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:29:42.4463|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:29:42.4463|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:29:42.4463|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:29:42.4463|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:29:42.4579|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:29:42.4579|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:29:42.4579|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:29:42.4579|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:29:42.4579|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:29:42.4579|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:29:42.4737|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:29:42.4737|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:29:42.4737|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:29:42.4737|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:29:42.4737|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:29:42.4737|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:29:42.4737|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:29:42.6982|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:29:42.6982|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:29:42.6982|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:29:42.6982|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:29:42.6982|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:29:42.6982|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:29:42.6982|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:29:42.6982|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:29:42.7071|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:29:42.9261|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIH" accepted. 
2024-07-17 00:29:42.9261|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIH" started. 
2024-07-17 00:29:42.9261|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JII" accepted. 
2024-07-17 00:29:42.9261|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JII" started. 
2024-07-17 00:29:42.9457|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NJGI2JII" received FIN. 
2024-07-17 00:29:42.9457|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NJGI2JIH" received FIN. 
2024-07-17 00:29:42.9457|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NJGI2JII" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:29:42.9457|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NJGI2JIH" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:29:42.9457|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JII" disconnecting. 
2024-07-17 00:29:42.9457|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIH" disconnecting. 
2024-07-17 00:29:43.0028|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JII" stopped. 
2024-07-17 00:29:43.0028|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIH" stopped. 
2024-07-17 00:29:43.1585|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIJ" accepted. 
2024-07-17 00:29:43.1585|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIJ" started. 
2024-07-17 00:29:43.1978|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIK" accepted. 
2024-07-17 00:29:43.1978|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIK" started. 
2024-07-17 00:29:43.2428|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:29:43.2684|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:29:43.2684|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:29:43.3719|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:29:43.4614|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:29:43.4614|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIL" accepted. 
2024-07-17 00:29:43.4614|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIL" started. 
2024-07-17 00:29:43.4614|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:29:43.4614|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIK" completed keep alive response. 
2024-07-17 00:29:43.4614|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.8239ms 
2024-07-17 00:29:43.4614|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:29:43.4614|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIJ" completed keep alive response. 
2024-07-17 00:29:43.4614|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 225.0291ms 
2024-07-17 00:29:43.4882|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIL" completed keep alive response. 
2024-07-17 00:29:43.4885|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.1484ms 
2024-07-17 00:29:43.5530|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:29:43.5530|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:29:43.6741|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIL" completed keep alive response. 
2024-07-17 00:29:43.6741|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.6015ms 
2024-07-17 00:29:46.0617|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIM" accepted. 
2024-07-17 00:29:46.0617|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NJGI2JIM" received FIN. 
2024-07-17 00:29:46.0617|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIM" started. 
2024-07-17 00:29:46.0617|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NJGI2JIM" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:29:46.0617|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIM" disconnecting. 
2024-07-17 00:29:46.0617|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIN" accepted. 
2024-07-17 00:29:46.0617|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIN" started. 
2024-07-17 00:29:46.0617|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NJGI2JIM" stopped. 
2024-07-17 00:29:46.0617|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:29:46.0617|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:29:46.0617|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:29:46.0617|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:29:46.2955|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:29:46.2955|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:29:46.3141|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:29:46.3141|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:29:46.3141|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:29:46.3199|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:29:46.3199|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:29:46.3354|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:29:46.3354|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:29:46.3354|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:29:46.3354|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:29:46.3354|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:29:46.3354|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:29:46.3354|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:29:46.4185|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:29:46.4185|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:29:46.4185|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:29:46.4265|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:29:46.4265|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:29:46.4265|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:29:46.4265|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:29:46.4265|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:29:46.4265|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:29:46.4265|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:29:46.4265|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:29:46.4265|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:29:46.4265|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:29:46.4265|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:29:46.4265|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:29:46.4265|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:29:46.4265|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:29:46.4265|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:29:46.4265|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:29:46.5011|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:29:46.5011|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:29:46.5011|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:29:46.5011|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:29:46.5253|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:29:46.5911|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:29:47.1374|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:29:47.3248|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:29:47.3878|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Where(cr => cr.Messages != null)' 
2024-07-17 00:29:47.4256|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:29:47.5983|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
        SELECT c.Id, c.Description, c.LastMessage, c.Name
        FROM ChatRooms AS c
        WHERE Not(c.Id == NULL)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:29:47.6280|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:29:47.6280|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:29:47.6468|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (16ms). 
2024-07-17 00:29:47.6468|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (23ms). 
2024-07-17 00:29:47.6468|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (28ms). 
2024-07-17 00:29:47.6468|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:29:47.9117|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:29:47.9117|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c] 
2024-07-17 00:29:47.9401|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c] 
2024-07-17 00:29:47.9786|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:29:47.9928|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:29:47.9928|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:29:47.9928|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:29:47.9928|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:29:47.9928|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 56ms reading results. 
2024-07-17 00:29:47.9928|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:29:48.0044|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (3ms). 
2024-07-17 00:29:48.0044|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Where(cr => cr.Messages != null)
    .OrderByDescending(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:29:48.0044|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:29:48.0417|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
        SELECT c.Id, c.Description, c.LastMessage, c.Name
        FROM ChatRooms AS c
        WHERE Not(c.Id == NULL)
        ORDER BY (
            SELECT MAX(m.DateSend)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:29:48.0417|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:29:48.0417|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:29:48.0417|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:29:48.0417|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:29:48.0417|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:29:48.0417|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC 
2024-07-17 00:29:48.0529|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC 
2024-07-17 00:29:48.0529|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:29:48.0529|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:29:48.0529|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:29:48.0529|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:30:01.5903|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-17 00:30:01.5995|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-17 00:32:35.7738|0|DEBUG|Program|init main 
2024-07-17 00:32:37.0700|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:32:37.1289|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:32:37.1289|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:32:37.1289|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:32:37.1922|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:32:37.2427|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:32:37.2760|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:32:37.2760|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:32:37.2856|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:32:37.2856|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:32:37.2856|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:32:37.2856|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:32:37.2856|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:32:37.2856|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:32:37.2856|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:32:37.2856|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:32:37.2856|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:32:37.3010|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:32:37.3010|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:32:37.3010|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:32:37.3010|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:32:37.3010|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:32:37.3010|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:32:37.3010|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:32:37.3010|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:32:37.4055|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:32:37.4055|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:32:37.4055|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:32:37.4100|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:32:37.4100|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:32:37.4100|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:32:37.4100|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:32:37.4100|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:32:37.4100|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:32:37.6560|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA3" accepted. 
2024-07-17 00:32:37.6560|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA3" started. 
2024-07-17 00:32:37.6644|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA4" accepted. 
2024-07-17 00:32:37.6644|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA4" started. 
2024-07-17 00:32:37.6970|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NL4KDTA3" received FIN. 
2024-07-17 00:32:37.6970|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NL4KDTA4" received FIN. 
2024-07-17 00:32:37.6970|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NL4KDTA4" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:32:37.6970|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NL4KDTA3" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:32:37.7084|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA3" disconnecting. 
2024-07-17 00:32:37.7084|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA4" disconnecting. 
2024-07-17 00:32:37.7084|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA4" stopped. 
2024-07-17 00:32:37.7084|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA3" stopped. 
2024-07-17 00:32:37.7964|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA5" accepted. 
2024-07-17 00:32:37.7964|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA5" started. 
2024-07-17 00:32:37.8233|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA6" accepted. 
2024-07-17 00:32:37.8233|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA6" started. 
2024-07-17 00:32:37.8640|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:32:37.8904|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:32:37.8904|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:32:37.9965|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:32:38.0891|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:32:38.0891|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA7" accepted. 
2024-07-17 00:32:38.0891|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA7" started. 
2024-07-17 00:32:38.0891|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:32:38.0891|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA6" completed keep alive response. 
2024-07-17 00:32:38.0891|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.7146ms 
2024-07-17 00:32:38.0891|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:32:38.0891|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA5" completed keep alive response. 
2024-07-17 00:32:38.0891|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 231.2834ms 
2024-07-17 00:32:38.1169|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA7" completed keep alive response. 
2024-07-17 00:32:38.1169|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.9368ms 
2024-07-17 00:32:38.1710|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:32:38.1710|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:32:38.2817|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA7" completed keep alive response. 
2024-07-17 00:32:38.2817|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.0214ms 
2024-07-17 00:32:43.1354|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA8" accepted. 
2024-07-17 00:32:43.1354|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NL4KDTA8" received FIN. 
2024-07-17 00:32:43.1354|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA8" started. 
2024-07-17 00:32:43.1354|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA9" accepted. 
2024-07-17 00:32:43.1354|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NL4KDTA8" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:32:43.1354|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA9" started. 
2024-07-17 00:32:43.1354|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA8" disconnecting. 
2024-07-17 00:32:43.1354|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NL4KDTA8" stopped. 
2024-07-17 00:32:43.1354|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:32:43.1354|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:32:43.1354|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:32:43.1354|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:32:43.3685|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:32:43.3685|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:32:43.3886|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:32:43.3886|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:32:43.3886|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:32:43.3946|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:32:43.3946|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:32:43.4106|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:32:43.4106|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:32:43.4106|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:32:43.4106|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:32:43.4106|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:32:43.4106|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:32:43.4106|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:32:43.4936|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:32:43.4936|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:32:43.4936|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:32:43.4936|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:32:43.4936|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:32:43.4936|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:32:43.4936|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:32:43.4936|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:32:43.4936|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:32:43.5041|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:32:43.5041|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:32:43.5041|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:32:43.5041|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:32:43.5041|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:32:43.5041|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:32:43.5041|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:32:43.5041|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:32:43.5041|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:32:43.5041|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:32:43.5759|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:32:43.5759|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:32:43.5759|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:32:43.5759|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:32:43.5990|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:32:43.6733|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:32:44.2280|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:32:44.4229|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:32:44.4806|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages == null)' 
2024-07-17 00:32:44.5211|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:32:44.5211|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:32:44.7435|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m.Id, m.ChatRoomId, m.DateSend, m.Msg, m.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m ON c.Id == m.ChatRoomId
        WHERE c.Id == NULL
        ORDER BY c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:32:44.7751|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:32:44.7751|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:32:44.7962|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (18ms). 
2024-07-17 00:32:44.8010|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (24ms). 
2024-07-17 00:32:44.8010|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (28ms). 
2024-07-17 00:32:44.8010|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:32:45.0403|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:32:45.0403|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:32:45.0648|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:32:45.0702|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:32:45.0702|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 6ms reading results. 
2024-07-17 00:32:45.0702|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:32:45.0702|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (3ms). 
2024-07-17 00:32:45.0702|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages != null)
    .OrderByDescending(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:32:45.0846|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:32:45.0846|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:32:45.1129|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m0.Id, m0.ChatRoomId, m0.DateSend, m0.Msg, m0.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m0 ON c.Id == m0.ChatRoomId
        WHERE Not(c.Id == NULL)
        ORDER BY (
            SELECT MAX(m.DateSend)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) DESC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:32:45.1182|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:32:45.1182|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:32:45.1182|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:32:45.1182|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:32:45.1182|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:32:45.1182|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:32:45.1182|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:32:45.1578|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:32:45.1873|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:32:45.1873|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:32:45.1873|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:32:45.1873|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:32:45.1873|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:32:45.1873|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:32:45.1873|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:32:45.1873|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:32:45.1921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:32:45.1921|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:32:45.1921|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 69ms reading results. 
2024-07-17 00:32:45.1921|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:32:45.1921|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:33:56.5072|0|DEBUG|Program|init main 
2024-07-17 00:33:57.7735|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:33:57.8436|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:33:57.8436|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:33:57.8484|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:33:57.9032|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:33:57.9458|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:33:57.9736|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:33:57.9736|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:33:57.9736|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:33:57.9736|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:33:57.9736|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:33:57.9736|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:33:57.9736|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:33:57.9736|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:33:57.9736|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:33:57.9736|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:33:57.9736|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:33:57.9909|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:33:57.9909|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:33:57.9909|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:33:57.9909|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:33:57.9909|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:33:57.9909|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:33:57.9909|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:33:57.9909|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:33:58.0969|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:33:58.1023|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:33:58.1023|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:33:58.1023|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:33:58.1023|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:33:58.1023|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:33:58.1023|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:33:58.1023|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:33:58.1023|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:33:58.3621|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMB" accepted. 
2024-07-17 00:33:58.3621|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMC" accepted. 
2024-07-17 00:33:58.3642|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMB" started. 
2024-07-17 00:33:58.3642|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMC" started. 
2024-07-17 00:33:58.3876|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NLSM3FMB" received FIN. 
2024-07-17 00:33:58.3876|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NLSM3FMC" received FIN. 
2024-07-17 00:33:58.3876|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NLSM3FMC" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:33:58.3876|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NLSM3FMB" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:33:58.3976|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMB" disconnecting. 
2024-07-17 00:33:58.3976|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMC" disconnecting. 
2024-07-17 00:33:58.3976|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMB" stopped. 
2024-07-17 00:33:58.3976|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMC" stopped. 
2024-07-17 00:33:58.4764|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMD" accepted. 
2024-07-17 00:33:58.4764|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMD" started. 
2024-07-17 00:33:58.5001|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FME" accepted. 
2024-07-17 00:33:58.5001|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FME" started. 
2024-07-17 00:33:58.5314|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:33:58.5594|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:33:58.5594|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:33:58.6752|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:33:58.7682|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMF" accepted. 
2024-07-17 00:33:58.7682|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:33:58.7682|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMF" started. 
2024-07-17 00:33:58.7682|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:33:58.7713|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FME" completed keep alive response. 
2024-07-17 00:33:58.7713|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:33:58.7713|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMD" completed keep alive response. 
2024-07-17 00:33:58.7713|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 3.4071ms 
2024-07-17 00:33:58.7713|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 243.2693ms 
2024-07-17 00:33:58.7713|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMF" completed keep alive response. 
2024-07-17 00:33:58.7713|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.2623ms 
2024-07-17 00:33:58.8616|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:33:58.8616|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:33:58.9981|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMF" completed keep alive response. 
2024-07-17 00:33:58.9981|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.6257ms 
2024-07-17 00:34:01.4130|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMG" accepted. 
2024-07-17 00:34:01.4130|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NLSM3FMG" received FIN. 
2024-07-17 00:34:01.4130|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMG" started. 
2024-07-17 00:34:01.4130|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NLSM3FMG" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:34:01.4130|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMG" disconnecting. 
2024-07-17 00:34:01.4130|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMH" accepted. 
2024-07-17 00:34:01.4130|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMG" stopped. 
2024-07-17 00:34:01.4130|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMH" started. 
2024-07-17 00:34:01.4130|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:34:01.4130|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:34:01.4130|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:34:01.4130|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:34:01.6452|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:34:01.6452|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:34:01.6667|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:34:01.6667|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:34:01.6667|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:34:01.6667|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:34:01.6667|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:34:01.6915|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:34:01.6915|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:34:01.6915|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:34:01.6915|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:34:01.6915|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:34:01.6915|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:34:01.6915|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:34:01.7737|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:34:01.7737|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:34:01.7737|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:34:01.7737|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:34:01.7737|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:34:01.7737|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:34:01.7737|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:34:01.7737|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:34:01.7737|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:34:01.7737|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:34:01.7737|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:34:01.7737|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:34:01.7737|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:34:01.7737|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:34:01.7737|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:34:01.7737|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:34:01.7737|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:34:01.7737|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:34:01.7737|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:34:01.8551|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:34:01.8551|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:34:01.8551|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:34:01.8551|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:34:01.8782|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:34:01.9488|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:34:02.4792|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:34:02.6755|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:34:02.7318|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages == null)' 
2024-07-17 00:34:02.7743|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:34:02.7873|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:34:02.9777|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m.Id, m.ChatRoomId, m.DateSend, m.Msg, m.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m ON c.Id == m.ChatRoomId
        WHERE c.Id == NULL
        ORDER BY c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:34:03.0105|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:34:03.0105|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:34:03.0300|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (17ms). 
2024-07-17 00:34:03.0354|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (23ms). 
2024-07-17 00:34:03.0354|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (27ms). 
2024-07-17 00:34:03.0354|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.2976|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.3029|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:34:03.3239|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:34:03.3239|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.3331|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 6ms reading results. 
2024-07-17 00:34:03.3331|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.3331|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (5ms). 
2024-07-17 00:34:03.3331|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages != null)
    .OrderByDescending(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:34:03.3331|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:34:03.3479|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:34:03.3756|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m0.Id, m0.ChatRoomId, m0.DateSend, m0.Msg, m0.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m0 ON c.Id == m0.ChatRoomId
        WHERE Not(c.Id == NULL)
        ORDER BY (
            SELECT MAX(m.DateSend)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) DESC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:34:03.3791|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:34:03.3791|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:34:03.3791|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:34:03.3791|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.3791|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.3791|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:34:03.3791|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:34:03.4256|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:34:03.4588|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:34:03.4588|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.4588|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 78ms reading results. 
2024-07-17 00:34:03.4588|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.4588|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:34:03.4588|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:34:03.4588|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.4588|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:34:03.4798|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:34:03.4798|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoomUser>()' 
2024-07-17 00:34:03.4798|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoomUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoomUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoomUser.ChatRoomId (int) Required FK Index, 1], [Property: ChatRoomUser.UserId (int) Required FK Index, 2] }
        SELECT c.Id, c.ChatRoomId, c.UserId
        FROM ChatRoomUsers AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoomUser>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:34:03.4948|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:34:03.4948|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:34:03.4948|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:34:03.4948|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:34:03.4948|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:34:03.4948|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.4948|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.4948|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:34:03.5117|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:34:03.5200|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-17 00:34:03.5200|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-17 00:34:03.5200|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-17 00:34:03.5200|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-17 00:34:03.5200|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 14}'. 
2024-07-17 00:34:03.5200|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 15}'. 
2024-07-17 00:34:03.5200|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.5200|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 17ms reading results. 
2024-07-17 00:34:03.5200|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.5200|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:34:03.5200|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:34:03.5200|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:03.5200|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:34:03.5200|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1677.4008ms. 
2024-07-17 00:34:03.5359|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:34:03.5359|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:34:03.5359|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:34:03.5359|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:34:03.5359|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:34:03.5359|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:34:03.5359|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:34:03.5359|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:34:03.5359|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2024-07-17 00:34:03.5359|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2024-07-17 00:34:03.5359|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2024-07-17 00:34:03.5359|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2024-07-17 00:34:03.5359|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2024-07-17 00:34:03.5359|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'DomainModel.Entities.ViewModels.PageChatViewModel'. 
2024-07-17 00:34:03.5621|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:34:03.5621|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:34:03.5621|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:34:03.5621|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) in 1871.9659ms 
2024-07-17 00:34:03.5621|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:34:03.7365|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NLSM3FMH" completed keep alive response. 
2024-07-17 00:34:03.7365|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - - 400 0 application/json;+charset=utf-8 2322.2005ms 
2024-07-17 00:34:20.8714|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:34:20.8714|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:34:20.8714|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:34:20.8714|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:34:20.8714|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:34:20.8714|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:34:20.8714|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:34:20.8714|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:34:20.8714|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:34:20.8714|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:34:20.8714|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:34:20.8714|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:34:20.8714|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:34:20.8714|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:34:20.8714|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:34:20.8714|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:34:20.8714|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:34:20.8714|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:34:20.8714|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:34:20.8714|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:34:20.8714|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:34:20.8714|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:34:20.8714|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:34:20.8714|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:34:20.8714|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:34:20.8714|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:34:20.8714|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:34:20.8714|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:34:20.8714|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:34:20.8714|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:34:20.8714|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:34:20.8714|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:34:20.8714|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:34:20.8714|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:34:20.8714|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:34:20.8714|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:34:20.8967|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:34:20.8967|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:34:20.8967|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:34:20.8967|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:34:20.8967|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:34:20.9374|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:34:20.9374|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:34:20.9374|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:34:20.9374|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:34:20.9374|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:34:20.9374|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:34:20.9374|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:20.9374|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:20.9374|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:34:20.9374|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:34:20.9374|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:20.9374|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:34:20.9374|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:20.9374|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:34:20.9374|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:34:20.9374|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:34:20.9374|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:34:20.9374|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:20.9374|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:20.9374|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:34:20.9419|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:34:20.9419|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:34:20.9419|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:20.9419|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 2ms reading results. 
2024-07-17 00:34:20.9419|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:20.9419|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:34:23.9625|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:34:23.9925|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:23.9925|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:34:31.0181|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:34:31.0181|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:34:31.0181|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:34:31.0181|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:34:31.0181|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:34:31.0181|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:34:31.0198|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:31.0198|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:31.0198|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:34:31.0637|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:34:31.0637|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-17 00:34:31.0637|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-17 00:34:31.0637|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-17 00:34:31.0637|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-17 00:34:31.0637|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 14}'. 
2024-07-17 00:34:31.0637|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 15}'. 
2024-07-17 00:34:31.0637|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:31.0637|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 1ms reading results. 
2024-07-17 00:34:31.0637|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:31.0637|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:34:31.0637|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:34:31.0637|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:34:31.0637|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:36:18.1038|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 117206.9061ms. 
2024-07-17 00:36:18.1038|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:36:18.1038|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:36:18.1038|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:36:18.1038|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:36:18.1038|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:36:18.1038|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:36:18.1038|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:36:18.1038|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:36:18.1038|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2024-07-17 00:36:18.1142|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2024-07-17 00:36:18.1142|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2024-07-17 00:36:18.1142|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2024-07-17 00:36:18.1142|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2024-07-17 00:36:18.1142|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'DomainModel.Entities.ViewModels.PageChatViewModel'. 
2024-07-17 00:37:28.9341|0|DEBUG|Program|init main 
2024-07-17 00:37:30.0204|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:37:30.1160|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:37:30.1160|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:37:30.1160|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:37:30.2071|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:37:30.2996|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:37:30.3425|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:37:30.3505|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:37:30.3505|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:37:30.3505|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:37:30.3505|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:37:30.3505|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:37:30.3505|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:37:30.3633|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:37:30.3633|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:37:30.3633|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:37:30.3633|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:37:30.3633|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:37:30.3633|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:37:30.3633|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:37:30.3633|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:37:30.3633|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:37:30.3633|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:37:30.3800|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:37:30.3800|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:37:30.4889|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:37:30.4889|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:37:30.4889|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:37:30.4889|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:37:30.4889|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:37:30.4889|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:37:30.4889|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:37:30.4889|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:37:30.4889|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:37:30.5460|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NNRTKRIN" received FIN. 
2024-07-17 00:37:30.5460|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NNRTKRIM" received FIN. 
2024-07-17 00:37:30.5619|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIM" accepted. 
2024-07-17 00:37:30.5619|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIN" accepted. 
2024-07-17 00:37:30.5619|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIN" started. 
2024-07-17 00:37:30.5619|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIM" started. 
2024-07-17 00:37:30.5714|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NNRTKRIM" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:37:30.5714|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NNRTKRIN" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:37:30.5714|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIN" disconnecting. 
2024-07-17 00:37:30.5714|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIM" disconnecting. 
2024-07-17 00:37:30.5714|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIM" stopped. 
2024-07-17 00:37:30.5714|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIN" stopped. 
2024-07-17 00:37:30.6103|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIO" accepted. 
2024-07-17 00:37:30.6103|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIO" started. 
2024-07-17 00:37:30.6555|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIP" accepted. 
2024-07-17 00:37:30.6555|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIP" started. 
2024-07-17 00:37:30.6991|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:37:30.7307|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:37:30.7307|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:37:30.8550|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:37:30.9374|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIQ" accepted. 
2024-07-17 00:37:30.9374|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:37:30.9374|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIQ" started. 
2024-07-17 00:37:30.9374|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:37:30.9622|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIP" completed keep alive response. 
2024-07-17 00:37:30.9622|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 24.3149ms 
2024-07-17 00:37:30.9729|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:37:30.9729|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIO" completed keep alive response. 
2024-07-17 00:37:30.9729|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 278.7100ms 
2024-07-17 00:37:30.9729|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIQ" completed keep alive response. 
2024-07-17 00:37:30.9729|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.8133ms 
2024-07-17 00:37:31.0375|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:37:31.0375|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:37:31.1484|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIQ" completed keep alive response. 
2024-07-17 00:37:31.1484|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.9165ms 
2024-07-17 00:37:32.8851|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NNRTKRIR" received FIN. 
2024-07-17 00:37:32.8851|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIR" accepted. 
2024-07-17 00:37:32.8851|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIR" started. 
2024-07-17 00:37:32.8851|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NNRTKRIR" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:37:32.8851|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIR" disconnecting. 
2024-07-17 00:37:32.8851|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIS" accepted. 
2024-07-17 00:37:32.8851|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIR" stopped. 
2024-07-17 00:37:32.8851|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIS" started. 
2024-07-17 00:37:32.8851|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:37:32.8851|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:37:32.8851|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:37:32.8851|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:37:33.1491|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:37:33.1491|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:37:33.1711|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:37:33.1711|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:37:33.1711|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:37:33.1772|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:37:33.1772|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:37:33.1926|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:37:33.1926|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:37:33.1926|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:37:33.1926|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:37:33.1926|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:37:33.1926|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:37:33.1926|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:37:33.2724|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:37:33.2724|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:37:33.2724|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:37:33.2724|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:37:33.2724|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:37:33.2724|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:37:33.2724|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:37:33.2724|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:37:33.2724|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:37:33.2724|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:37:33.2724|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:37:33.2724|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:37:33.2724|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:37:33.2724|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:37:33.2724|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:37:33.2724|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:37:33.2724|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:37:33.2724|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:37:33.2724|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:37:33.3540|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:37:33.3540|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:37:33.3540|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:37:33.3540|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:37:33.3790|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:37:33.4468|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:37:34.0038|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:37:34.2017|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:37:34.2629|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages == null)' 
2024-07-17 00:37:34.3041|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:37:34.3178|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:37:34.5216|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m.Id, m.ChatRoomId, m.DateSend, m.Msg, m.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m ON c.Id == m.ChatRoomId
        WHERE c.Id == NULL
        ORDER BY c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:37:34.5552|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:37:34.5552|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:37:34.5757|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (17ms). 
2024-07-17 00:37:34.5855|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (26ms). 
2024-07-17 00:37:34.5855|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (33ms). 
2024-07-17 00:37:34.5855|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:34.8382|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:34.8382|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:37:34.8644|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:37:34.8644|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:34.8644|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 7ms reading results. 
2024-07-17 00:37:34.8644|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:34.8830|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (5ms). 
2024-07-17 00:37:34.8830|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages != null)
    .OrderByDescending(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:37:34.8830|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:37:34.8830|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:37:34.9222|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m0.Id, m0.ChatRoomId, m0.DateSend, m0.Msg, m0.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m0 ON c.Id == m0.ChatRoomId
        WHERE Not(c.Id == NULL)
        ORDER BY (
            SELECT MAX(m.DateSend)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) DESC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:37:34.9266|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:37:34.9266|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:34.9266|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:34.9266|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:34.9266|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:34.9266|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:37:34.9266|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:37:34.9712|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:37:35.0028|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:37:35.0077|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:37:35.0077|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:35.0077|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 76ms reading results. 
2024-07-17 00:37:35.0077|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:35.0077|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:37:38.4919|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:37:38.4919|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:38.4919|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:37:38.5045|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:37:38.5045|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoomUser>()' 
2024-07-17 00:37:38.5045|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoomUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoomUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoomUser.ChatRoomId (int) Required FK Index, 1], [Property: ChatRoomUser.UserId (int) Required FK Index, 2] }
        SELECT c.Id, c.ChatRoomId, c.UserId
        FROM ChatRoomUsers AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoomUser>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:37:38.5045|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:37:38.5045|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:37:38.5205|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:37:38.5205|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:38.5205|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:38.5205|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:38.5205|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:38.5205|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:37:38.5371|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:37:38.5371|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-17 00:37:38.5371|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-17 00:37:38.5371|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-17 00:37:38.5371|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-17 00:37:38.5371|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 14}'. 
2024-07-17 00:37:38.5371|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 15}'. 
2024-07-17 00:37:38.5541|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:38.5541|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 16ms reading results. 
2024-07-17 00:37:38.5541|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:38.5541|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:37:38.5541|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:37:38.5541|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:38.5541|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:37:38.5541|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5203.5244ms. 
2024-07-17 00:37:38.5541|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:37:38.5541|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:37:38.5541|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:37:38.5541|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:37:38.5541|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:37:38.5541|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:37:38.5541|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:37:38.5541|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:37:38.5541|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2024-07-17 00:37:38.5541|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2024-07-17 00:37:38.5541|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2024-07-17 00:37:38.5541|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2024-07-17 00:37:38.5541|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2024-07-17 00:37:38.5541|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'DomainModel.Entities.ViewModels.PageChatViewModel'. 
2024-07-17 00:37:38.5852|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:37:38.5852|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:37:38.5852|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:37:38.5852|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) in 5393.8838ms 
2024-07-17 00:37:38.5852|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:37:38.7086|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIS" completed keep alive response. 
2024-07-17 00:37:38.7086|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - - 400 0 application/json;+charset=utf-8 5820.9257ms 
2024-07-17 00:37:43.1277|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:37:43.1277|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:37:43.1277|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:37:43.1303|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:37:43.1303|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:37:43.1303|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:37:43.1303|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:37:43.1303|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:37:43.1303|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:37:43.1303|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:37:43.1303|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:37:43.1303|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:37:43.1303|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:37:43.1303|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:37:43.1303|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:37:43.1303|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:37:43.1303|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:37:43.1303|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:37:43.1303|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:37:43.1303|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:37:43.1303|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:37:43.1303|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:37:43.1303|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:37:43.1303|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:37:43.1303|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:37:43.1303|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:37:43.1303|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:37:43.1303|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:37:43.1303|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:37:43.1303|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:37:43.1303|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:37:43.1303|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:37:43.1303|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:37:43.1303|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:37:43.1303|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:37:43.1303|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:37:43.1539|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:37:43.1539|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:37:43.1539|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:37:43.1539|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:37:43.1539|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:37:43.1930|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:37:43.1930|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:37:43.1930|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:37:43.1930|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:37:43.1930|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:43.1930|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:43.1930|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:37:43.1930|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:37:43.1930|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:37:43.1930|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:37:43.1930|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:37:43.1930|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:43.1930|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:43.1930|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:37:43.1930|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:37:43.1930|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 3ms reading results. 
2024-07-17 00:37:43.1930|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:37:43.1930|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:37:43.1930|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:37:43.1930|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:37:43.1930|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:37:43.1930|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:37:43.1930|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:37:43.1930|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:43.1930|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:43.1930|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:37:43.1930|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 14}'. 
2024-07-17 00:37:43.1930|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 15}'. 
2024-07-17 00:37:43.1930|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:37:43.1930|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:37:43.1930|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:37:43.1930|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:43.1930|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:37:43.1930|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52.3536ms. 
2024-07-17 00:37:43.1930|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:37:43.1930|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:37:43.1930|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:37:43.1930|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:37:43.1930|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:37:43.1930|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:37:43.1930|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:37:43.1930|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:37:43.1930|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2024-07-17 00:37:43.1930|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2024-07-17 00:37:43.1930|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2024-07-17 00:37:43.1930|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2024-07-17 00:37:43.1930|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2024-07-17 00:37:43.1930|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'DomainModel.Entities.ViewModels.PageChatViewModel'. 
2024-07-17 00:37:43.2080|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:37:43.2080|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:37:43.2080|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:37:43.2080|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) in 73.658ms 
2024-07-17 00:37:43.2080|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:37:43.2823|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NNRTKRIS" completed keep alive response. 
2024-07-17 00:37:43.2823|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - - 400 0 application/json;+charset=utf-8 154.8968ms 
2024-07-17 00:37:57.9359|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:37:57.9359|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:37:57.9359|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:37:57.9359|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:37:57.9359|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:37:57.9359|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:37:57.9359|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:37:57.9359|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:37:57.9359|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:37:57.9359|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:37:57.9359|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:37:57.9359|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:37:57.9359|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:37:57.9359|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:37:57.9359|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:37:57.9359|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:37:57.9359|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:37:57.9434|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:37:57.9434|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:37:57.9434|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:37:57.9434|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:37:57.9434|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:37:57.9434|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:37:57.9434|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:37:57.9434|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:37:57.9434|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:37:57.9434|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:37:57.9434|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:37:57.9434|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:37:57.9434|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:37:57.9434|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:37:57.9434|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:37:57.9434|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:37:57.9434|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:37:57.9434|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:37:57.9434|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:37:57.9577|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:37:57.9577|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:37:57.9577|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:37:57.9577|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:37:57.9577|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:37:57.9577|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:37:57.9577|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:37:57.9577|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:37:57.9577|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:37:57.9577|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:57.9577|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:57.9577|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9577|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9577|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:37:57.9577|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:37:57.9577|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9577|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:37:57.9577|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9577|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:37:57.9577|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:37:57.9577|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:57.9577|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:57.9577|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9577|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9577|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:37:57.9577|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:37:57.9577|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:37:57.9577|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9577|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 1ms reading results. 
2024-07-17 00:37:57.9577|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9577|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:37:57.9577|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:37:57.9577|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9577|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:37:57.9577|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:37:57.9577|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:37:57.9577|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:37:57.9577|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:37:57.9577|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:57.9577|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:37:57.9577|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9577|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9577|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:37:57.9736|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:37:57.9736|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-17 00:37:57.9736|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-17 00:37:57.9736|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-17 00:37:57.9736|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-17 00:37:57.9736|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 14}'. 
2024-07-17 00:37:57.9736|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 15}'. 
2024-07-17 00:37:57.9736|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9736|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:37:57.9736|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9736|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:37:57.9736|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:37:57.9736|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:37:57.9736|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:39:33.0238|0|DEBUG|Program|init main 
2024-07-17 00:39:34.0981|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:39:34.1797|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:39:34.1797|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:39:34.1797|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:39:34.2496|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:39:34.2856|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:39:34.3148|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:39:34.3197|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:39:34.3197|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:39:34.3197|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:39:34.3197|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:39:34.3197|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:39:34.3197|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:39:34.3197|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:39:34.3197|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:39:34.3197|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:39:34.3197|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:39:34.3197|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:39:34.3197|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:39:34.3336|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:39:34.3336|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:39:34.3336|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:39:34.3336|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:39:34.3336|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:39:34.3336|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:39:34.4340|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:39:34.4340|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:39:34.4340|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:39:34.4340|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:39:34.4340|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:39:34.4340|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:39:34.4340|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:39:34.4413|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:39:34.4413|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:39:34.6890|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6R" accepted. 
2024-07-17 00:39:34.6890|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6R" started. 
2024-07-17 00:39:34.7067|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NP0TIA6S" received FIN. 
2024-07-17 00:39:34.7067|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NP0TIA6R" received FIN. 
2024-07-17 00:39:34.7084|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6S" accepted. 
2024-07-17 00:39:34.7084|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6S" started. 
2024-07-17 00:39:34.7084|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NP0TIA6R" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:39:34.7084|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NP0TIA6S" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:39:34.7084|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6R" disconnecting. 
2024-07-17 00:39:34.7084|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6S" disconnecting. 
2024-07-17 00:39:34.7084|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6S" stopped. 
2024-07-17 00:39:34.7084|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6R" stopped. 
2024-07-17 00:39:35.1263|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6T" accepted. 
2024-07-17 00:39:35.1263|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6T" started. 
2024-07-17 00:39:35.1608|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6U" accepted. 
2024-07-17 00:39:35.1608|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6U" started. 
2024-07-17 00:39:35.2043|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:39:35.2522|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:39:35.2522|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:39:35.4313|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:39:35.5154|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:39:35.5154|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6V" accepted. 
2024-07-17 00:39:35.5154|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6V" started. 
2024-07-17 00:39:35.5154|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:39:35.5154|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6U" completed keep alive response. 
2024-07-17 00:39:35.5154|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.8392ms 
2024-07-17 00:39:35.5217|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:39:35.5217|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6T" completed keep alive response. 
2024-07-17 00:39:35.5217|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 328.1723ms 
2024-07-17 00:39:35.5441|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6V" completed keep alive response. 
2024-07-17 00:39:35.5441|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.2542ms 
2024-07-17 00:39:35.6167|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:39:35.6167|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:39:35.7718|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA6V" completed keep alive response. 
2024-07-17 00:39:35.7718|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.3012ms 
2024-07-17 00:39:37.4208|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA70" accepted. 
2024-07-17 00:39:37.4208|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NP0TIA70" received FIN. 
2024-07-17 00:39:37.4208|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA70" started. 
2024-07-17 00:39:37.4208|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA71" accepted. 
2024-07-17 00:39:37.4208|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NP0TIA70" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:39:37.4208|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA71" started. 
2024-07-17 00:39:37.4208|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA70" disconnecting. 
2024-07-17 00:39:37.4208|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA70" stopped. 
2024-07-17 00:39:37.4208|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:39:37.4208|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:39:37.4341|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:39:37.4341|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:39:37.6696|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:39:37.6696|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:39:37.6903|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:39:37.6903|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:39:37.6923|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:39:37.6923|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:39:37.6923|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:39:37.7137|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:39:37.7137|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:39:37.7137|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:39:37.7137|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:39:37.7137|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:39:37.7137|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:39:37.7137|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:39:37.7916|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:39:37.7916|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:39:37.7916|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:39:37.7916|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:39:37.7916|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:39:37.7916|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:39:37.7916|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:39:37.8011|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:39:37.8011|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:39:37.8011|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:39:37.8011|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:39:37.8011|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:39:37.8011|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:39:37.8011|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:39:37.8011|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:39:37.8011|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:39:37.8011|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:39:37.8011|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:39:37.8011|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:39:37.8732|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:39:37.8732|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:39:37.8732|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:39:37.8732|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:39:37.8980|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:39:37.9719|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:39:38.6023|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:39:38.8199|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:39:38.8797|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages == null)' 
2024-07-17 00:39:38.9185|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:39:38.9314|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:39:39.1410|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m.Id, m.ChatRoomId, m.DateSend, m.Msg, m.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m ON c.Id == m.ChatRoomId
        WHERE c.Id == NULL
        ORDER BY c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:39:39.1717|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:39:39.1717|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:39:39.1933|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (18ms). 
2024-07-17 00:39:39.1933|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (25ms). 
2024-07-17 00:39:39.1933|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (29ms). 
2024-07-17 00:39:39.1933|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.4481|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.4481|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:39:39.4740|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:39:39.4740|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.4740|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 7ms reading results. 
2024-07-17 00:39:39.4740|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.4904|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (4ms). 
2024-07-17 00:39:39.4904|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages != null)
    .OrderByDescending(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:39:39.4904|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:39:39.4904|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:39:39.5247|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m0.Id, m0.ChatRoomId, m0.DateSend, m0.Msg, m0.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m0 ON c.Id == m0.ChatRoomId
        WHERE Not(c.Id == NULL)
        ORDER BY (
            SELECT MAX(m.DateSend)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) DESC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:39:39.5247|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:39:39.5247|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:39:39.5247|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:39:39.5247|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.5247|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.5247|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:39:39.5374|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:39:39.5720|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:39:39.6024|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:39:39.6024|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.6024|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 73ms reading results. 
2024-07-17 00:39:39.6024|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.6024|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:39:39.6024|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:39:39.6138|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.6138|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (1ms). 
2024-07-17 00:39:39.6138|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:39:39.6138|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoomUser>()' 
2024-07-17 00:39:39.6306|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoomUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoomUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoomUser.ChatRoomId (int) Required FK Index, 1], [Property: ChatRoomUser.UserId (int) Required FK Index, 2] }
        SELECT c.Id, c.ChatRoomId, c.UserId
        FROM ChatRoomUsers AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoomUser>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:39:39.6306|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:39:39.6306|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:39:39.6306|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:39:39.6306|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:39:39.6306|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:39:39.6306|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.6306|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.6306|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:39:39.6543|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:39:39.6638|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-17 00:39:39.6638|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-17 00:39:39.6638|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-17 00:39:39.6638|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-17 00:39:39.6638|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 14}'. 
2024-07-17 00:39:39.6638|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 15}'. 
2024-07-17 00:39:39.6638|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.6638|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 20ms reading results. 
2024-07-17 00:39:39.6638|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.6764|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:39:39.6764|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:39:39.6764|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:39:39.6764|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:39:39.6764|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1805.2178ms. 
2024-07-17 00:39:39.6764|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:39:39.6764|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:39:39.6764|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:39:39.6764|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:39:39.6764|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:39:39.6764|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:39:39.6764|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:39:39.6764|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:39:39.6764|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2024-07-17 00:39:39.6764|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2024-07-17 00:39:39.6764|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2024-07-17 00:39:39.6764|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2024-07-17 00:39:39.6764|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2024-07-17 00:39:39.6764|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'DomainModel.Entities.ViewModels.PageChatViewModel'. 
2024-07-17 00:39:39.6938|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:39:39.6938|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:39:39.6938|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:39:39.6938|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) in 1979.3414ms 
2024-07-17 00:39:39.6938|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:39:39.6938|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA71" completed keep alive response. 
2024-07-17 00:39:39.6938|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - - 200 - application/json;+charset=utf-8 2276.4443ms 
2024-07-17 00:40:15.2920|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:40:15.2920|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:40:15.2920|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:40:15.2920|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:40:15.2920|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:40:15.2920|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:40:15.2920|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:40:15.2920|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:40:15.2920|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:40:15.2920|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:40:15.2920|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:40:15.2920|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:40:15.2920|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:40:15.2920|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:40:15.2920|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:40:15.2920|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:40:15.2920|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:40:15.3013|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:40:15.3013|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:40:15.3013|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:40:15.3013|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:40:15.3013|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:40:15.3013|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:40:15.3013|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:40:15.3013|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:40:15.3013|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:40:15.3013|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:40:15.3013|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:40:15.3013|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:40:15.3013|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:40:15.3013|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:40:15.3013|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:40:15.3013|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:40:15.3013|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:40:15.3013|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:40:15.3013|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:40:15.3181|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:40:15.3181|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:40:15.3181|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:40:15.3181|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:40:15.3181|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:40:15.3562|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:40:15.3562|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:40:15.3562|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:40:15.3562|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:40:15.3562|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:15.3562|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:15.3562|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3562|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3562|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:40:15.3562|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:40:15.3562|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3562|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:40:15.3562|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3562|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:40:15.3562|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:40:15.3562|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:15.3562|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:15.3562|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3562|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3562|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:40:15.3666|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:40:15.3666|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3666|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 2ms reading results. 
2024-07-17 00:40:15.3666|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3666|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:40:15.3666|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:40:15.3666|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3666|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:40:15.3666|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:40:15.3666|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:40:15.3666|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:40:15.3666|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:40:15.3666|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:15.3666|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:15.3666|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3666|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3666|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:40:15.3666|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 14}'. 
2024-07-17 00:40:15.3666|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 15}'. 
2024-07-17 00:40:15.3666|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3666|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:40:15.3666|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3666|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:40:15.3666|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:40:15.3666|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:15.3666|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:40:15.3666|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 56.4361ms. 
2024-07-17 00:40:15.3666|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:40:15.3666|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:40:15.3666|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:40:15.3666|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:40:15.3666|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:40:15.3666|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:40:15.3666|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:40:15.3666|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:40:15.3666|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2024-07-17 00:40:15.3666|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2024-07-17 00:40:15.3666|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2024-07-17 00:40:15.3666|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2024-07-17 00:40:15.3666|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2024-07-17 00:40:15.3666|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'DomainModel.Entities.ViewModels.PageChatViewModel'. 
2024-07-17 00:40:15.3666|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:40:15.3666|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:40:15.3666|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:40:15.3666|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) in 75.3184ms 
2024-07-17 00:40:15.3666|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:40:15.3666|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NP0TIA71" completed keep alive response. 
2024-07-17 00:40:15.3666|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - - 200 - application/json;+charset=utf-8 83.3756ms 
2024-07-17 00:40:23.3293|0|DEBUG|Program|init main 
2024-07-17 00:40:24.2348|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:40:24.3546|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:40:24.3546|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:40:24.3546|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:40:24.4378|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:40:24.5134|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:40:24.5547|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:40:24.5547|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:40:24.5547|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:40:24.5547|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:40:24.5547|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:40:24.5547|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:40:24.5547|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:40:24.5706|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:40:24.5706|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:40:24.5706|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:40:24.5706|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:40:24.5706|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:40:24.5706|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:40:24.5837|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:40:24.5837|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:40:24.5837|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:40:24.5837|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:40:24.5837|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:40:24.5837|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:40:24.6918|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:40:24.6918|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:40:24.6918|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:40:24.6918|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:40:24.6918|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:40:24.6918|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:40:24.6918|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:40:24.6918|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:40:24.6918|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:40:25.1901|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B5" accepted. 
2024-07-17 00:40:25.1901|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B5" started. 
2024-07-17 00:40:25.2001|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B6" accepted. 
2024-07-17 00:40:25.2001|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B6" started. 
2024-07-17 00:40:25.2243|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NPFV61B5" received FIN. 
2024-07-17 00:40:25.2243|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NPFV61B6" received FIN. 
2024-07-17 00:40:25.2243|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NPFV61B6" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:40:25.2243|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NPFV61B5" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:40:25.2243|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B6" disconnecting. 
2024-07-17 00:40:25.2243|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B5" disconnecting. 
2024-07-17 00:40:25.2496|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B6" stopped. 
2024-07-17 00:40:25.2496|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B5" stopped. 
2024-07-17 00:40:25.4025|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B7" accepted. 
2024-07-17 00:40:25.4025|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B7" started. 
2024-07-17 00:40:25.4385|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B8" accepted. 
2024-07-17 00:40:25.4385|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B8" started. 
2024-07-17 00:40:25.4780|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:40:25.5066|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:40:25.5066|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:40:25.6166|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:40:25.7003|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:40:25.7003|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B9" accepted. 
2024-07-17 00:40:25.7003|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B9" started. 
2024-07-17 00:40:25.7003|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:40:25.7126|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:40:25.7126|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B9" completed keep alive response. 
2024-07-17 00:40:25.7126|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B7" completed keep alive response. 
2024-07-17 00:40:25.7126|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 10.1453ms 
2024-07-17 00:40:25.7126|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 238.9905ms 
2024-07-17 00:40:25.7256|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B8" completed keep alive response. 
2024-07-17 00:40:25.7256|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.5597ms 
2024-07-17 00:40:25.7853|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:40:25.7855|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:40:25.8939|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61B8" completed keep alive response. 
2024-07-17 00:40:25.8939|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 108.8708ms 
2024-07-17 00:40:30.2358|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NPFV61BA" received FIN. 
2024-07-17 00:40:30.2358|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61BA" accepted. 
2024-07-17 00:40:30.2358|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61BA" started. 
2024-07-17 00:40:30.2358|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NPFV61BA" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:40:30.2358|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61BA" disconnecting. 
2024-07-17 00:40:30.2358|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61BB" accepted. 
2024-07-17 00:40:30.2358|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61BB" started. 
2024-07-17 00:40:30.2358|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61BA" stopped. 
2024-07-17 00:40:30.2358|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:40:30.2358|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:40:30.2388|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:40:30.2388|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:40:30.4621|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:40:30.4621|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:40:30.4814|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:40:30.4814|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:40:30.4814|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:40:30.4814|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:40:30.4814|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:40:30.5029|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:40:30.5029|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:40:30.5029|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:40:30.5029|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:40:30.5029|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:40:30.5029|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:40:30.5044|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:40:30.5799|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:40:30.5864|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:40:30.5864|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:40:30.5864|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:40:30.5864|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:40:30.5864|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:40:30.5864|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:40:30.5864|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:40:30.5864|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:40:30.5864|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:40:30.5864|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:40:30.5864|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:40:30.5864|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:40:30.5864|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:40:30.5864|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:40:30.5864|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:40:30.5864|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:40:30.5864|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:40:30.5864|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:40:30.6576|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:40:30.6576|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:40:30.6576|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:40:30.6621|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:40:30.6867|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:40:30.7550|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:40:31.2956|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:40:31.5017|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:40:31.5651|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages == null)' 
2024-07-17 00:40:31.6083|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:40:31.6218|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:40:31.8427|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m.Id, m.ChatRoomId, m.DateSend, m.Msg, m.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m ON c.Id == m.ChatRoomId
        WHERE c.Id == NULL
        ORDER BY c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:40:31.8747|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:40:31.8747|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:40:31.8958|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (17ms). 
2024-07-17 00:40:31.8958|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (25ms). 
2024-07-17 00:40:31.8958|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (28ms). 
2024-07-17 00:40:31.8958|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.1492|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.1492|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:40:32.1740|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:40:32.1797|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.1797|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 7ms reading results. 
2024-07-17 00:40:32.1797|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.1797|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (4ms). 
2024-07-17 00:40:32.1797|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages != null)
    .OrderByDescending(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:40:32.1960|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:40:32.1960|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:40:32.2304|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m0.Id, m0.ChatRoomId, m0.DateSend, m0.Msg, m0.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m0 ON c.Id == m0.ChatRoomId
        WHERE Not(c.Id == NULL)
        ORDER BY (
            SELECT MAX(m.DateSend)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) DESC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:40:32.2304|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:40:32.2304|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:32.2304|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:32.2304|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.2304|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.2304|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:40:32.2418|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:40:32.2791|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:40:32.3097|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:40:32.3097|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:40:32.3165|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:40:32.3165|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.3165|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 79ms reading results. 
2024-07-17 00:40:32.3165|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.3165|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:40:32.3165|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:40:32.3165|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.3165|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:40:32.3332|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:40:32.3332|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoomUser>()' 
2024-07-17 00:40:32.3332|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoomUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoomUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoomUser.ChatRoomId (int) Required FK Index, 1], [Property: ChatRoomUser.UserId (int) Required FK Index, 2] }
        SELECT c.Id, c.ChatRoomId, c.UserId
        FROM ChatRoomUsers AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoomUser>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:40:32.3483|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:40:32.3483|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:40:32.3483|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:40:32.3483|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:32.3483|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:32.3483|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.3483|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.3483|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:40:32.3641|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ChatRoomId], [c].[UserId]
FROM [ChatRoomUsers] AS [c] 
2024-07-17 00:40:32.3641|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 1}'. 
2024-07-17 00:40:32.3641|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 2}'. 
2024-07-17 00:40:32.3641|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 3}'. 
2024-07-17 00:40:32.3641|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 4}'. 
2024-07-17 00:40:32.3641|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 14}'. 
2024-07-17 00:40:32.3641|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: 15}'. 
2024-07-17 00:40:32.3828|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.3828|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 18ms reading results. 
2024-07-17 00:40:32.3828|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.3828|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:40:32.3828|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 00:40:32.3828|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:32.3828|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 00:40:54.6417|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23981.6557ms. 
2024-07-17 00:40:54.6544|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:40:54.6544|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:40:54.6544|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:40:54.6544|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:40:54.6544|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:40:54.6544|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:40:54.6544|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:40:54.6544|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:40:54.6544|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2024-07-17 00:40:54.6611|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2024-07-17 00:40:54.6611|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2024-07-17 00:40:54.6611|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2024-07-17 00:40:54.6611|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2024-07-17 00:40:54.6611|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'DomainModel.Entities.ViewModels.PageChatViewModel'. 
2024-07-17 00:40:54.6611|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2024-07-17 00:40:54.6611|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:40:54.6611|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2024-07-17 00:40:54.6611|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) in 24166.6775ms 
2024-07-17 00:40:54.6611|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:40:54.6611|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NPFV61BB" completed keep alive response. 
2024-07-17 00:40:54.6611|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - - 200 - application/json;+charset=utf-8 24436.0235ms 
2024-07-17 00:40:57.7191|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:40:57.7191|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:40:57.7191|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:40:57.7191|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:40:57.7191|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:40:57.7191|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:40:57.7191|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:40:57.7230|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:40:57.7230|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:40:57.7230|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:40:57.7230|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:40:57.7230|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:40:57.7230|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:40:57.7230|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:40:57.7230|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:40:57.7230|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:40:57.7230|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:40:57.7230|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:40:57.7230|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:40:57.7230|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:40:57.7230|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:40:57.7230|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:40:57.7230|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:40:57.7230|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:40:57.7230|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:40:57.7230|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:40:57.7230|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:40:57.7230|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:40:57.7230|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:40:57.7230|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:40:57.7230|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:40:57.7230|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:40:57.7230|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:40:57.7230|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:40:57.7230|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:40:57.7230|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:40:57.7438|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:40:57.7438|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:40:57.7438|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:40:57.7438|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:40:57.7438|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:40:57.8130|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:40:57.8176|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:40:57.8176|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:40:57.8176|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 00:40:57.8176|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:57.8176|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:57.8176|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:57.8176|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:57.8176|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:40:57.8176|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:40:57.8176|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:57.8176|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:40:57.8176|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:57.8176|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:40:57.8176|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:40:57.8176|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:57.8176|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:40:57.8176|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:57.8176|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:57.8176|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:40:57.8176|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:40:57.8176|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:40:57.8176|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:57.8176|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 2ms reading results. 
2024-07-17 00:40:57.8176|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:40:57.8176|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:41:35.6783|0|DEBUG|Program|init main 
2024-07-17 00:41:36.9668|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:41:37.0284|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:41:37.0284|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:41:37.0284|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:41:37.1035|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:41:37.1603|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:41:37.1998|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:41:37.2134|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:41:37.2134|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:41:37.2134|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:41:37.2228|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:41:37.2228|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:41:37.2228|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:41:37.2455|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:41:37.2455|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:41:37.2455|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:41:37.2455|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:41:37.2557|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:41:37.2557|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:41:37.2557|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:41:37.2557|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:41:37.2557|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:41:37.2557|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:41:37.2557|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:41:37.2703|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:41:37.4029|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:41:37.4029|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:41:37.4029|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:41:37.4029|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:41:37.4029|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:41:37.4029|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:41:37.4029|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:41:37.4029|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:41:37.4029|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:41:37.4140|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NQ5FV0E5" received FIN. 
2024-07-17 00:41:37.4140|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E5" accepted. 
2024-07-17 00:41:37.4140|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E5" started. 
2024-07-17 00:41:37.4299|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NQ5FV0E5" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:41:37.4299|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E5" disconnecting. 
2024-07-17 00:41:37.4299|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E5" stopped. 
2024-07-17 00:41:37.5183|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E6" accepted. 
2024-07-17 00:41:37.5183|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E6" started. 
2024-07-17 00:41:37.5433|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E7" accepted. 
2024-07-17 00:41:37.5433|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E7" started. 
2024-07-17 00:41:37.5918|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:41:37.6365|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:41:37.6365|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:41:37.7790|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:41:37.8952|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E8" accepted. 
2024-07-17 00:41:37.8952|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:41:37.8952|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E8" started. 
2024-07-17 00:41:37.8952|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:41:37.8952|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E7" completed keep alive response. 
2024-07-17 00:41:37.8952|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:41:37.8952|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E6" completed keep alive response. 
2024-07-17 00:41:37.8952|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.1612ms 
2024-07-17 00:41:37.8952|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 309.3604ms 
2024-07-17 00:41:37.9218|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E8" completed keep alive response. 
2024-07-17 00:41:37.9218|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.2612ms 
2024-07-17 00:41:38.0302|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:41:38.0302|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:41:38.1408|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E8" completed keep alive response. 
2024-07-17 00:41:38.1408|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 110.7526ms 
2024-07-17 00:41:39.1591|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E9" accepted. 
2024-07-17 00:41:39.1591|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NQ5FV0E9" received FIN. 
2024-07-17 00:41:39.1591|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E9" started. 
2024-07-17 00:41:39.1591|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0EA" accepted. 
2024-07-17 00:41:39.1591|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NQ5FV0E9" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:41:39.1591|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0EA" started. 
2024-07-17 00:41:39.1591|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E9" disconnecting. 
2024-07-17 00:41:39.1611|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQ5FV0E9" stopped. 
2024-07-17 00:41:39.1611|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:41:39.1611|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:41:39.1611|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:41:39.1611|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:41:39.4348|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:41:39.4348|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:41:39.4543|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:41:39.4543|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:41:39.4543|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:41:39.4603|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:41:39.4603|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:41:39.4780|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:41:39.4780|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:41:39.4780|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:41:39.4780|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:41:39.4780|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:41:39.4780|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:41:39.4780|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:41:39.5926|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:41:39.6001|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:41:39.6001|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:41:39.6001|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:41:39.6001|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:41:39.6001|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:41:39.6001|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:41:39.6001|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:41:39.6001|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:41:39.6001|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:41:39.6001|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:41:39.6001|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:41:39.6001|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:41:39.6001|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:41:39.6001|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:41:39.6001|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:41:39.6001|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:41:39.6001|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:41:39.6001|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:41:39.6868|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:41:39.6868|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:41:39.6868|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:41:39.6868|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:41:39.7140|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:41:39.7921|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:41:40.3722|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:41:40.5758|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:41:40.6581|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages != null)
    .OrderByDescending(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:41:40.7151|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:41:40.7490|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:41:40.9648|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m0.Id, m0.ChatRoomId, m0.DateSend, m0.Msg, m0.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m0 ON c.Id == m0.ChatRoomId
        WHERE Not(c.Id == NULL)
        ORDER BY (
            SELECT MAX(m.DateSend)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) DESC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:41:41.0003|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:41:41.0003|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:41:41.0228|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (20ms). 
2024-07-17 00:41:41.0228|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (30ms). 
2024-07-17 00:41:41.0228|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (33ms). 
2024-07-17 00:41:41.0228|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:41:41.3364|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:41:41.3364|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:41:41.3680|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:41:41.4068|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:41:41.4394|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:41:41.4447|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:41:41.4447|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:41:41.4570|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 85ms reading results. 
2024-07-17 00:41:41.4570|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:41:41.4570|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (4ms). 
2024-07-17 00:41:41.4570|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages == null)' 
2024-07-17 00:41:41.4570|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:41:41.4570|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:41:41.4570|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m.Id, m.ChatRoomId, m.DateSend, m.Msg, m.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m ON c.Id == m.ChatRoomId
        WHERE c.Id == NULL
        ORDER BY c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:41:41.4570|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:41:41.4570|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:41:41.4570|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:41:41.4570|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:41:41.4728|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:41:41.4728|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:41:41.4728|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:41:41.4728|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:41:41.4728|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:41:41.4728|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:41:41.4728|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:42:45.3827|0|DEBUG|Program|init main 
2024-07-17 00:42:46.4445|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:42:46.5203|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:42:46.5203|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:42:46.5203|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:42:46.6099|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:42:46.6641|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:42:46.6906|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:42:46.6953|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:42:46.6953|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:42:46.6953|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:42:46.6953|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:42:46.6953|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:42:46.6953|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:42:46.6953|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:42:46.6953|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:42:46.6953|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:42:46.6953|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:42:46.6953|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:42:46.6953|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:42:46.7085|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:42:46.7085|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:42:46.7085|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:42:46.7085|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:42:46.7085|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:42:46.7085|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:42:46.7973|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:42:46.8011|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:42:46.8011|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:42:46.8011|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:42:46.8011|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:42:46.8011|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:42:46.8011|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:42:46.8011|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:42:46.8011|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:42:47.2397|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NQQ9S4H6" received FIN. 
2024-07-17 00:42:47.2397|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NQQ9S4H7" received FIN. 
2024-07-17 00:42:47.2397|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H6" accepted. 
2024-07-17 00:42:47.2397|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H7" accepted. 
2024-07-17 00:42:47.2549|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H6" started. 
2024-07-17 00:42:47.2549|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H7" started. 
2024-07-17 00:42:47.2549|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NQQ9S4H7" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:42:47.2549|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NQQ9S4H6" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:42:47.2549|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H7" disconnecting. 
2024-07-17 00:42:47.2549|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H6" disconnecting. 
2024-07-17 00:42:47.2696|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H7" stopped. 
2024-07-17 00:42:47.2696|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H6" stopped. 
2024-07-17 00:42:47.4092|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H8" accepted. 
2024-07-17 00:42:47.4092|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H8" started. 
2024-07-17 00:42:47.4336|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H9" accepted. 
2024-07-17 00:42:47.4336|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H9" started. 
2024-07-17 00:42:47.4661|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:42:47.4966|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:42:47.4966|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:42:47.6213|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:42:47.7059|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4HA" accepted. 
2024-07-17 00:42:47.7059|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4HA" started. 
2024-07-17 00:42:47.7059|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:42:47.7059|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:42:47.7084|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H9" completed keep alive response. 
2024-07-17 00:42:47.7084|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.1552ms 
2024-07-17 00:42:47.7084|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:42:47.7084|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4H8" completed keep alive response. 
2024-07-17 00:42:47.7084|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 249.6858ms 
2024-07-17 00:42:47.7278|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4HA" completed keep alive response. 
2024-07-17 00:42:47.7278|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.7439ms 
2024-07-17 00:42:47.7932|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:42:47.7932|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:42:47.9201|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4HA" completed keep alive response. 
2024-07-17 00:42:47.9201|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.2476ms 
2024-07-17 00:42:49.1003|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4HB" accepted. 
2024-07-17 00:42:49.1003|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NQQ9S4HB" received FIN. 
2024-07-17 00:42:49.1003|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4HC" accepted. 
2024-07-17 00:42:49.1003|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4HC" started. 
2024-07-17 00:42:49.1003|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4HB" started. 
2024-07-17 00:42:49.1003|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NQQ9S4HB" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:42:49.1003|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:42:49.1003|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:42:49.1003|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4HB" disconnecting. 
2024-07-17 00:42:49.1132|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NQQ9S4HB" stopped. 
2024-07-17 00:42:49.1132|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:42:49.1132|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:42:49.3394|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:42:49.3394|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:42:49.3578|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:42:49.3578|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:42:49.3578|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:42:49.3657|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:42:49.3657|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:42:49.3814|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:42:49.3814|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:42:49.3814|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:42:49.3814|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:42:49.3814|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:42:49.3814|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:42:49.3814|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:42:49.4590|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:42:49.4590|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:42:49.4590|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:42:49.4590|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:42:49.4590|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:42:49.4590|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:42:49.4590|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:42:49.4590|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:42:49.4590|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:42:49.4590|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:42:49.4590|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:42:49.4590|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:42:49.4590|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:42:49.4590|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:42:49.4590|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:42:49.4590|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:42:49.4590|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:42:49.4590|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:42:49.4590|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:42:49.5306|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:42:49.5306|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:42:49.5306|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:42:49.5306|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:42:49.5536|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:42:49.6232|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:42:50.1964|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:42:50.3960|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:42:50.4582|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages != null)
    .OrderBy(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:42:50.5023|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:42:50.5353|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:42:50.7362|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m0.Id, m0.ChatRoomId, m0.DateSend, m0.Msg, m0.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m0 ON c.Id == m0.ChatRoomId
        WHERE Not(c.Id == NULL)
        ORDER BY (
            SELECT MAX(m.DateSend)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) ASC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:42:50.7707|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:42:50.7707|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:42:50.7914|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (17ms). 
2024-07-17 00:42:50.7914|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (25ms). 
2024-07-17 00:42:50.7914|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (28ms). 
2024-07-17 00:42:50.7914|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:42:51.0492|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:42:51.0536|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]), [c].[Id] 
2024-07-17 00:42:51.0830|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]), [c].[Id] 
2024-07-17 00:42:51.1224|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:42:51.1406|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:42:51.1406|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:42:51.1552|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:42:51.1617|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:42:51.1617|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:42:51.1617|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 84ms reading results. 
2024-07-17 00:42:51.1617|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:42:51.1762|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (4ms). 
2024-07-17 00:42:51.1762|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages == null)' 
2024-07-17 00:42:51.1762|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:42:51.1762|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:42:51.1762|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m.Id, m.ChatRoomId, m.DateSend, m.Msg, m.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m ON c.Id == m.ChatRoomId
        WHERE c.Id == NULL
        ORDER BY c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:42:51.1762|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:42:51.1762|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:42:51.1762|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:42:51.1762|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:42:51.1762|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:42:51.1762|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:42:51.1762|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:42:51.1762|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:42:51.1762|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:42:51.1762|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:42:51.1762|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:43:56.8741|0|DEBUG|Program|init main 
2024-07-17 00:43:57.9481|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:43:57.9890|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:43:57.9890|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:43:57.9890|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:43:58.0351|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:43:58.0864|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:43:58.1205|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:43:58.1205|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:43:58.1309|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:43:58.1309|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:43:58.1309|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:43:58.1309|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:43:58.1309|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:43:58.1309|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:43:58.1309|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:43:58.1309|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:43:58.1309|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:43:58.1516|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:43:58.1516|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:43:58.1516|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:43:58.1624|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:43:58.1624|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:43:58.1624|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:43:58.1624|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:43:58.1624|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:43:58.2926|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:43:58.2926|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:43:58.2926|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:43:58.2926|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:43:58.2926|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:43:58.2926|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:43:58.2926|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:43:58.2926|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:43:58.3021|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:43:58.6216|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FB" accepted. 
2024-07-17 00:43:58.6216|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FB" started. 
2024-07-17 00:43:58.6301|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FC" accepted. 
2024-07-17 00:43:58.6301|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FC" started. 
2024-07-17 00:43:58.6611|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NRFIK3FC" received FIN. 
2024-07-17 00:43:58.6611|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NRFIK3FB" received FIN. 
2024-07-17 00:43:58.6611|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NRFIK3FC" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:43:58.6611|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NRFIK3FB" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:43:58.6764|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FB" disconnecting. 
2024-07-17 00:43:58.6764|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FC" disconnecting. 
2024-07-17 00:43:58.6764|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FB" stopped. 
2024-07-17 00:43:58.6764|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FC" stopped. 
2024-07-17 00:43:58.7515|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FD" accepted. 
2024-07-17 00:43:58.7515|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FD" started. 
2024-07-17 00:43:58.8086|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FE" accepted. 
2024-07-17 00:43:58.8086|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FE" started. 
2024-07-17 00:43:58.8311|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:43:58.8564|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:43:58.8564|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:43:58.9655|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:43:59.0528|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FF" accepted. 
2024-07-17 00:43:59.0528|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FF" started. 
2024-07-17 00:43:59.0528|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:43:59.0528|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:43:59.0528|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FF" completed keep alive response. 
2024-07-17 00:43:59.0528|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.0648ms 
2024-07-17 00:43:59.0528|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:43:59.0528|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FD" completed keep alive response. 
2024-07-17 00:43:59.0528|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 229.6085ms 
2024-07-17 00:43:59.0749|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FE" completed keep alive response. 
2024-07-17 00:43:59.0749|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.6037ms 
2024-07-17 00:43:59.1362|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:43:59.1362|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:43:59.2465|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FE" completed keep alive response. 
2024-07-17 00:43:59.2465|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 110.4403ms 
2024-07-17 00:44:00.6775|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FG" accepted. 
2024-07-17 00:44:00.6775|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FG" started. 
2024-07-17 00:44:00.6775|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NRFIK3FG" received FIN. 
2024-07-17 00:44:00.6775|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FG" disconnecting. 
2024-07-17 00:44:00.6775|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FH" accepted. 
2024-07-17 00:44:00.6775|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NRFIK3FG" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:44:00.6775|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FH" started. 
2024-07-17 00:44:00.6775|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRFIK3FG" stopped. 
2024-07-17 00:44:00.6775|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:44:00.6775|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:44:00.6775|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:44:00.6775|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:44:00.9118|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:44:00.9118|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:44:00.9309|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:44:00.9309|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:44:00.9309|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:44:00.9309|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:44:00.9309|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:44:00.9530|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:44:00.9530|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:44:00.9530|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:44:00.9530|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:44:00.9530|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:44:00.9530|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:44:00.9530|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:44:01.0322|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:44:01.0373|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:44:01.0373|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:44:01.0373|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:44:01.0373|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:44:01.0373|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:44:01.0373|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:44:01.0373|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:44:01.0373|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:44:01.0373|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:44:01.0373|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:44:01.0373|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:44:01.0373|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:44:01.0373|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:44:01.0373|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:44:01.0373|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:44:01.0373|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:44:01.0373|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:44:01.0373|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:44:01.1083|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:44:01.1083|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:44:01.1083|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:44:01.1083|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:44:01.1324|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:44:01.2020|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:44:01.7539|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:44:01.9483|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:44:02.0082|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages != null)
    .OrderByDescending(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:44:02.0531|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:44:02.0859|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:44:02.2846|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m0.Id, m0.ChatRoomId, m0.DateSend, m0.Msg, m0.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m0 ON c.Id == m0.ChatRoomId
        WHERE Not(c.Id == NULL)
        ORDER BY (
            SELECT MAX(m.DateSend)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) DESC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:44:02.3186|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:44:02.3186|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:44:02.3380|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (16ms). 
2024-07-17 00:44:02.3380|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (23ms). 
2024-07-17 00:44:02.3380|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (27ms). 
2024-07-17 00:44:02.3380|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:02.5887|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:02.5887|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:44:02.6282|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) DESC, [c].[Id] 
2024-07-17 00:44:02.6689|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:44:02.7005|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:44:02.7078|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:44:02.7078|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:44:02.7078|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:44:02.7078|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:44:02.7078|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:02.7078|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 85ms reading results. 
2024-07-17 00:44:02.7078|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:02.7078|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (3ms). 
2024-07-17 00:44:02.7227|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages == null)' 
2024-07-17 00:44:02.7227|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:44:02.7227|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:44:02.7227|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m.Id, m.ChatRoomId, m.DateSend, m.Msg, m.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m ON c.Id == m.ChatRoomId
        WHERE c.Id == NULL
        ORDER BY c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:44:02.7227|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:44:02.7227|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:44:02.7227|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:44:02.7227|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:02.7227|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:02.7227|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:44:02.7227|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:44:02.7227|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:02.7227|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:44:02.7227|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:02.7227|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:44:51.8328|0|DEBUG|Program|init main 
2024-07-17 00:44:53.1520|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:44:53.2018|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:44:53.2018|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:44:53.2018|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:44:53.2663|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:44:53.3037|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:44:53.3278|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:44:53.3322|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:44:53.3322|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:44:53.3322|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:44:53.3322|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:44:53.3322|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:44:53.3322|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:44:53.3322|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:44:53.3322|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:44:53.3322|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:44:53.3322|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:44:53.3322|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:44:53.3322|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:44:53.3322|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:44:53.3485|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:44:53.3485|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:44:53.3485|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:44:53.3485|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:44:53.3485|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:44:53.4533|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:44:53.4587|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:44:53.4587|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:44:53.4587|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:44:53.4587|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:44:53.4587|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:44:53.4587|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:44:53.4587|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:44:53.4587|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:44:53.4587|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NRVTM88N" received FIN. 
2024-07-17 00:44:53.4735|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88N" accepted. 
2024-07-17 00:44:53.4735|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88N" started. 
2024-07-17 00:44:53.4735|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NRVTM88N" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:44:53.4735|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88N" disconnecting. 
2024-07-17 00:44:53.4893|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88N" stopped. 
2024-07-17 00:44:53.5751|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88O" accepted. 
2024-07-17 00:44:53.5751|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88O" started. 
2024-07-17 00:44:53.6007|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88P" accepted. 
2024-07-17 00:44:53.6007|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88P" started. 
2024-07-17 00:44:53.6386|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:44:53.6676|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:44:53.6676|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:44:53.7690|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:44:53.8619|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:44:53.8619|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88Q" accepted. 
2024-07-17 00:44:53.8619|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88Q" started. 
2024-07-17 00:44:53.8634|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:44:53.8634|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88P" completed keep alive response. 
2024-07-17 00:44:53.8634|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 3.6538ms 
2024-07-17 00:44:53.8634|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:44:53.8634|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88O" completed keep alive response. 
2024-07-17 00:44:53.8634|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 231.1990ms 
2024-07-17 00:44:53.8941|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88Q" completed keep alive response. 
2024-07-17 00:44:53.8948|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.2928ms 
2024-07-17 00:44:53.9496|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:44:53.9496|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:44:54.0606|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88Q" completed keep alive response. 
2024-07-17 00:44:54.0606|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.2002ms 
2024-07-17 00:44:56.2534|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88R" accepted. 
2024-07-17 00:44:56.2534|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NRVTM88R" received FIN. 
2024-07-17 00:44:56.2540|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88R" started. 
2024-07-17 00:44:56.2540|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NRVTM88R" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:44:56.2540|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88S" accepted. 
2024-07-17 00:44:56.2540|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88R" disconnecting. 
2024-07-17 00:44:56.2540|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88S" started. 
2024-07-17 00:44:56.2540|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NRVTM88R" stopped. 
2024-07-17 00:44:56.2540|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:44:56.2540|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:44:56.2540|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:44:56.2540|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:44:56.4867|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:44:56.4867|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:44:56.5057|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:44:56.5057|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:44:56.5057|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:44:56.5057|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:44:56.5057|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:44:56.5285|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:44:56.5285|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:44:56.5285|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:44:56.5285|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:44:56.5285|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:44:56.5285|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:44:56.5285|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:44:56.6123|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:44:56.6179|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:44:56.6179|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:44:56.6179|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:44:56.6179|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:44:56.6179|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:44:56.6179|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:44:56.6179|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:44:56.6179|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:44:56.6179|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:44:56.6179|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:44:56.6179|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:44:56.6179|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:44:56.6179|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:44:56.6179|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:44:56.6179|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:44:56.6179|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:44:56.6179|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:44:56.6179|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:44:56.6982|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:44:56.6982|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:44:56.6982|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:44:56.6982|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:44:56.7215|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:44:56.7942|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:44:57.3328|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:44:57.5219|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:44:57.5806|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages != null)
    .OrderBy(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:44:57.6230|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:44:57.6624|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:44:57.8643|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m0.Id, m0.ChatRoomId, m0.DateSend, m0.Msg, m0.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m0 ON c.Id == m0.ChatRoomId
        WHERE Not(c.Id == NULL)
        ORDER BY (
            SELECT MAX(m.DateSend)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) ASC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:44:57.8984|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:44:57.8984|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:44:57.9185|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (17ms). 
2024-07-17 00:44:57.9185|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (23ms). 
2024-07-17 00:44:57.9185|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (27ms). 
2024-07-17 00:44:57.9267|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:58.1658|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:58.1658|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]), [c].[Id] 
2024-07-17 00:44:58.1960|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]), [c].[Id] 
2024-07-17 00:44:58.2303|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:44:58.2471|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:44:58.2471|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:44:58.2602|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:44:58.2602|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:58.2726|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 73ms reading results. 
2024-07-17 00:44:58.2726|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:58.2726|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (4ms). 
2024-07-17 00:44:58.2726|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages == null)' 
2024-07-17 00:44:58.2726|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:44:58.2726|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:44:58.2726|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m.Id, m.ChatRoomId, m.DateSend, m.Msg, m.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m ON c.Id == m.ChatRoomId
        WHERE c.Id == NULL
        ORDER BY c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:44:58.2726|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:44:58.2726|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:44:58.2726|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:44:58.2726|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:58.2857|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:58.2857|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:44:58.2857|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m].[Id], [m].[ChatRoomId], [m].[DateSend], [m].[Msg], [m].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m] ON [c].[Id] = [m].[ChatRoomId]
WHERE 0 = 1
ORDER BY [c].[Id] 
2024-07-17 00:44:58.2857|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:58.2857|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 00:44:58.2857|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:44:58.2857|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 00:45:20.2550|0|DEBUG|Program|init main 
2024-07-17 00:45:21.0839|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:45:21.1614|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:45:21.1614|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:45:21.1614|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:45:21.2581|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:45:21.3641|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:45:21.4114|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:45:21.4114|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:45:21.4114|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:45:21.4114|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:45:21.4114|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:45:21.4114|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:45:21.4275|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:45:21.4275|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:45:21.4275|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:45:21.4275|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:45:21.4275|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:45:21.4458|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:45:21.4458|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:45:21.4458|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:45:21.4458|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:45:21.4458|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:45:21.4458|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:45:21.4578|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:45:21.4578|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:45:21.5816|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:45:21.5987|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:45:21.5987|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:45:21.5987|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:45:21.5987|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:45:21.5987|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:45:21.5987|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:45:21.5987|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:45:21.5987|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:45:21.5987|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOSV" accepted. 
2024-07-17 00:45:21.5987|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOSU" accepted. 
2024-07-17 00:45:21.5987|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOSU" started. 
2024-07-17 00:45:21.5987|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOSV" started. 
2024-07-17 00:45:21.6244|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NS89VOSU" received FIN. 
2024-07-17 00:45:21.6244|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NS89VOSV" received FIN. 
2024-07-17 00:45:21.6244|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NS89VOSV" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:45:21.6244|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NS89VOSU" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:45:21.6334|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOSU" disconnecting. 
2024-07-17 00:45:21.6334|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOSV" disconnecting. 
2024-07-17 00:45:21.6334|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOSU" stopped. 
2024-07-17 00:45:21.6334|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOSV" stopped. 
2024-07-17 00:45:21.7609|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT0" accepted. 
2024-07-17 00:45:21.7609|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT0" started. 
2024-07-17 00:45:21.7917|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT1" accepted. 
2024-07-17 00:45:21.7917|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT1" started. 
2024-07-17 00:45:21.8370|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:45:21.8775|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:45:21.8775|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:45:22.0456|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:45:22.1347|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT2" accepted. 
2024-07-17 00:45:22.1347|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:45:22.1347|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT2" started. 
2024-07-17 00:45:22.1347|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:45:22.1347|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:45:22.1347|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT1" completed keep alive response. 
2024-07-17 00:45:22.1347|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT0" completed keep alive response. 
2024-07-17 00:45:22.1347|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.6110ms 
2024-07-17 00:45:22.1347|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 304.2117ms 
2024-07-17 00:45:22.1635|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT2" completed keep alive response. 
2024-07-17 00:45:22.1635|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.1606ms 
2024-07-17 00:45:22.2342|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:45:22.2342|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:45:22.3633|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT2" completed keep alive response. 
2024-07-17 00:45:22.3633|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 129.2489ms 
2024-07-17 00:45:24.0776|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT3" accepted. 
2024-07-17 00:45:24.0776|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NS89VOT3" received FIN. 
2024-07-17 00:45:24.0776|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT4" accepted. 
2024-07-17 00:45:24.0776|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT3" started. 
2024-07-17 00:45:24.0776|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT3" disconnecting. 
2024-07-17 00:45:24.0776|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT3" stopped. 
2024-07-17 00:45:24.0844|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NS89VOT4" started. 
2024-07-17 00:45:24.0844|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:45:24.0844|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:45:24.0844|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NS89VOT3" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:45:24.0844|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:45:24.0844|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:45:24.3218|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:45:24.3218|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:45:24.3433|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:45:24.3433|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:45:24.3433|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:45:24.3492|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:45:24.3492|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:45:24.3648|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:45:24.3648|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:45:24.3648|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:45:24.3648|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:45:24.3648|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:45:24.3648|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:45:24.3648|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:45:24.4470|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:45:24.4470|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:45:24.4470|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:45:24.4470|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:45:24.4470|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:45:24.4470|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:45:24.4470|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:45:24.4470|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:45:24.4470|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:45:24.4470|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:45:24.4470|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:45:24.4470|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:45:24.4470|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:45:24.4470|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:45:24.4470|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:45:24.4470|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:45:24.4470|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:45:24.4470|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:45:24.4470|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:45:24.5207|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:45:24.5207|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:45:24.5207|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:45:24.5207|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:45:24.5475|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:45:24.6200|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:45:25.1923|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:45:25.3805|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:45:25.4372|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages != null)
    .OrderBy(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:45:25.4826|10108|WARN|Microsoft.EntityFrameworkCore.Query|Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'ChatRoom.Messages' is empty. 
2024-07-17 00:45:25.5119|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:45:25.7250|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m0.Id, m0.ChatRoomId, m0.DateSend, m0.Msg, m0.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m0 ON c.Id == m0.ChatRoomId
        WHERE Not(c.Id == NULL)
        ORDER BY (
            SELECT MAX(m.DateSend)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) ASC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:45:25.7611|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:45:25.7611|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:45:25.7830|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (19ms). 
2024-07-17 00:45:25.7883|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (25ms). 
2024-07-17 00:45:25.7883|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (29ms). 
2024-07-17 00:45:25.7883|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:45:26.0263|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:45:26.0263|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]), [c].[Id] 
2024-07-17 00:45:26.0519|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
ORDER BY (
    SELECT MAX([m].[DateSend])
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]), [c].[Id] 
2024-07-17 00:45:26.0921|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:45:26.1096|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:45:26.1096|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:45:26.1259|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:45:26.1327|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:45:26.1327|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:45:26.1327|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 85ms reading results. 
2024-07-17 00:45:26.1327|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:45:26.1475|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (4ms). 
2024-07-17 00:46:35.0886|0|DEBUG|Program|init main 
2024-07-17 00:46:35.8019|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 00:46:35.8595|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 00:46:35.8595|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 00:46:35.8656|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 00:46:35.9263|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 00:46:36.0129|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 00:46:36.0588|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 00:46:36.0588|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 00:46:36.0680|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 00:46:36.0680|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 00:46:36.0680|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 00:46:36.0680|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 00:46:36.0680|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 00:46:36.0680|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 00:46:36.0680|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 00:46:36.0680|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 00:46:36.0680|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 00:46:36.0680|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 00:46:36.0830|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:46:36.0830|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 00:46:36.0830|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 00:46:36.0830|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 00:46:36.0830|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 00:46:36.0830|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 00:46:36.0830|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 00:46:36.2109|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 00:46:36.2312|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:46:36.2312|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 00:46:36.2312|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 00:46:36.2312|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 00:46:36.2312|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 00:46:36.2312|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 00:46:36.2312|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 00:46:36.2312|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 00:46:36.4203|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUQ" accepted. 
2024-07-17 00:46:36.4203|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUQ" started. 
2024-07-17 00:46:36.4301|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NSUJGFUR" received FIN. 
2024-07-17 00:46:36.4301|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NSUJGFUQ" received FIN. 
2024-07-17 00:46:36.4301|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUR" accepted. 
2024-07-17 00:46:36.4301|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUR" started. 
2024-07-17 00:46:36.4301|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NSUJGFUQ" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:46:36.4301|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NSUJGFUR" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:46:36.4418|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUR" disconnecting. 
2024-07-17 00:46:36.4418|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUQ" disconnecting. 
2024-07-17 00:46:36.4418|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUR" stopped. 
2024-07-17 00:46:36.4418|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUQ" stopped. 
2024-07-17 00:46:36.6194|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUS" accepted. 
2024-07-17 00:46:36.6194|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUS" started. 
2024-07-17 00:46:36.6622|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUT" accepted. 
2024-07-17 00:46:36.6622|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUT" started. 
2024-07-17 00:46:36.7114|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 00:46:36.7535|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 00:46:36.7535|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:46:36.9452|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 00:46:37.0824|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 00:46:37.1040|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUU" accepted. 
2024-07-17 00:46:37.1040|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUU" started. 
2024-07-17 00:46:37.1040|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 00:46:37.1040|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 00:46:37.1040|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUS" completed keep alive response. 
2024-07-17 00:46:37.1040|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUU" completed keep alive response. 
2024-07-17 00:46:37.1040|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 398.2141ms 
2024-07-17 00:46:37.1040|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 6.3701ms 
2024-07-17 00:46:37.1292|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUT" completed keep alive response. 
2024-07-17 00:46:37.1292|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.9829ms 
2024-07-17 00:46:37.2189|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 00:46:37.2189|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:46:37.3782|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUT" completed keep alive response. 
2024-07-17 00:46:37.3782|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 159.7373ms 
2024-07-17 00:46:39.2774|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUV" accepted. 
2024-07-17 00:46:39.2774|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NSUJGFUV" received FIN. 
2024-07-17 00:46:39.2774|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUV" started. 
2024-07-17 00:46:39.2774|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55NSUJGFUV" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 00:46:39.2774|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFV0" accepted. 
2024-07-17 00:46:39.2774|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFV0" started. 
2024-07-17 00:46:39.2774|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUV" disconnecting. 
2024-07-17 00:46:39.2774|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55NSUJGFUV" stopped. 
2024-07-17 00:46:39.2774|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/api/Chat/all?number=0 - - 
2024-07-17 00:46:39.2774|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 00:46:39.2774|3|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The request path  does not match the path filter 
2024-07-17 00:46:39.2774|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 00:46:39.5098|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 00:46:39.5098|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 00:46:39.5304|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat/all' 
2024-07-17 00:46:39.5304|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat/all' is valid for the request path '/api/Chat/all' 
2024-07-17 00:46:39.5304|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:46:39.5367|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2024-07-17 00:46:39.5367|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 00:46:39.5575|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetChats", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChats(System.String, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 00:46:39.5575|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 00:46:39.5575|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 00:46:39.5575|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 00:46:39.5575|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 00:46:39.5575|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 00:46:39.5575|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:46:39.6320|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 00:46:39.6320|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'search' of type 'System.String' ... 
2024-07-17 00:46:39.6320|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ... 
2024-07-17 00:46:39.6320|16|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'. 
2024-07-17 00:46:39.6320|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:46:39.6320|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'search' of type 'System.String'. 
2024-07-17 00:46:39.6320|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'search' of type 'System.String' ... 
2024-07-17 00:46:39.6320|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'search' of type 'System.String'. 
2024-07-17 00:46:39.6320|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:46:39.6320|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'number' of type 'System.Int32' using the name 'number' in request data ... 
2024-07-17 00:46:39.6320|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:46:39.6320|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'number' of type 'System.Int32'. 
2024-07-17 00:46:39.6320|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'number' of type 'System.Int32' ... 
2024-07-17 00:46:39.6320|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'number' of type 'System.Int32'. 
2024-07-17 00:46:39.6320|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 00:46:39.6320|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:46:39.6320|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 00:46:39.6320|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:46:39.6320|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 00:46:39.7120|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 00:46:39.7120|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.GetChats (Goods.System.Social.Network.Microservice.Chats) with arguments (, 0) 
2024-07-17 00:46:39.7120|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод GetChats 
2024-07-17 00:46:39.7120|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод GetChatsAsync с параметрами: userId: 8, number: 0, search: 
2024-07-17 00:46:39.7361|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAllAsync 
2024-07-17 00:46:39.8076|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 00:46:40.3569|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 00:46:40.5498|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 00:46:40.6153|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages.Count > 0)
    .OrderBy(cr => cr.Messages
        .Max(m => m.DateSend))' 
2024-07-17 00:46:40.6996|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:46:40.9119|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m1.Id, m1.ChatRoomId, m1.DateSend, m1.Msg, m1.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m1 ON c.Id == m1.ChatRoomId
        WHERE (
            SELECT COUNT(*)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) > 0
        ORDER BY (
            SELECT MAX(m0.DateSend)
            FROM Messages AS m0
            WHERE (c.Id != NULL) && (c.Id == m0.ChatRoomId)) ASC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:46:40.9476|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:46:40.9476|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 00:46:40.9688|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (18ms). 
2024-07-17 00:46:40.9744|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (25ms). 
2024-07-17 00:46:40.9744|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (29ms). 
2024-07-17 00:46:40.9744|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:46:41.2183|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:46:41.2237|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m1].[Id], [m1].[ChatRoomId], [m1].[DateSend], [m1].[Msg], [m1].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m1] ON [c].[Id] = [m1].[ChatRoomId]
WHERE (
    SELECT COUNT(*)
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) > 0
ORDER BY (
    SELECT MAX([m0].[DateSend])
    FROM [Messages] AS [m0]
    WHERE [c].[Id] = [m0].[ChatRoomId]), [c].[Id] 
2024-07-17 00:46:41.2525|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m1].[Id], [m1].[ChatRoomId], [m1].[DateSend], [m1].[Msg], [m1].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m1] ON [c].[Id] = [m1].[ChatRoomId]
WHERE (
    SELECT COUNT(*)
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) > 0
ORDER BY (
    SELECT MAX([m0].[DateSend])
    FROM [Messages] AS [m0]
    WHERE [c].[Id] = [m0].[ChatRoomId]), [c].[Id] 
2024-07-17 00:46:41.2926|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 2}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 39}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 1}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 2}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 3}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 4}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 8}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 9}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 11}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 14}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 15}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 17}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 18}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 20}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 21}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 22}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 23}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 24}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 25}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 26}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 27}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 28}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 29}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 30}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 31}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 32}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 33}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 34}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 35}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 36}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 37}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 38}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 40}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 41}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 42}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 43}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 44}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 45}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 46}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 47}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 48}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 49}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 50}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 51}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 52}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 53}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 54}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 55}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 56}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 57}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 58}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 59}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 60}'. 
2024-07-17 00:46:41.3221|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: 61}'. 
2024-07-17 00:46:41.3331|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:46:41.3331|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 81ms reading results. 
2024-07-17 00:46:41.3331|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:46:41.3331|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (5ms). 
2024-07-17 00:46:41.3331|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Include(cr => cr.Messages)
    .Where(cr => cr.Messages.Count == 0)' 
2024-07-17 00:46:41.3331|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ChatRoom.Messages'. 
2024-07-17 00:46:41.3500|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChatRoom>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Message.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Message.ChatRoomId (int) Required FK Index, 5], [Property: Message.DateSend (DateTime) Required, 6], [Property: Message.Msg (string) Required MaxLength(500), 7], [Property: Message.UserId (int) Required FK Index, 8] }
            3 -> 4
        SELECT c.Id, c.Description, c.LastMessage, c.Name, m0.Id, m0.ChatRoomId, m0.DateSend, m0.Msg, m0.UserId
        FROM ChatRooms AS c
        LEFT JOIN Messages AS m0 ON c.Id == m0.ChatRoomId
        WHERE (
            SELECT COUNT(*)
            FROM Messages AS m
            WHERE (c.Id != NULL) && (c.Id == m.ChatRoomId)) == 0
        ORDER BY c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)' 
2024-07-17 00:46:41.3500|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 00:46:41.3500|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:46:41.3500|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 00:46:41.3500|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:46:41.3500|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:46:41.3500|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
WHERE (
    SELECT COUNT(*)
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) = 0
ORDER BY [c].[Id] 
2024-07-17 00:46:41.3500|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name], [m0].[Id], [m0].[ChatRoomId], [m0].[DateSend], [m0].[Msg], [m0].[UserId]
FROM [ChatRooms] AS [c]
LEFT JOIN [Messages] AS [m0] ON [c].[Id] = [m0].[ChatRoomId]
WHERE (
    SELECT COUNT(*)
    FROM [Messages] AS [m]
    WHERE [c].[Id] = [m].[ChatRoomId]) = 0
ORDER BY [c].[Id] 
2024-07-17 00:46:41.3500|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 3}'. 
2024-07-17 00:46:41.3500|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 13}'. 
2024-07-17 00:46:41.3500|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:46:41.3500|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 1ms reading results. 
2024-07-17 00:46:41.3500|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 00:46:41.3500|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 01:06:19.5731|0|DEBUG|Program|init main 
2024-07-17 01:06:20.6605|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 01:06:20.7082|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 01:06:20.7082|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 01:06:20.7082|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 01:06:20.7570|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 01:06:20.8459|0|ERROR|Program|Stopped ChatMicroservice because of exception System.InvalidOperationException: Action 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.AddNewChat (Goods.System.Social.Network.Microservice.Chats)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:
ChatRoom chatRoom
List<int> userIdsByChat
   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.Apply(ActionModel action)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()
   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.<>c__DisplayClass13_0.<Subscribe>b__0()
   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)
   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()
   at Microsoft.AspNetCore.Mvc.Routing.ControllerActionEndpointDataSource..ctor(ControllerActionEndpointDataSourceIdProvider dataSourceIdProvider, IActionDescriptorCollectionProvider actions, ActionEndpointFactory endpointFactory, OrderedEndpointsSequenceProvider orderSequence)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)
   at Program.<Main>$(String[] args) in C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats\Program.cs:line 129
2024-07-17 01:10:16.2612|0|DEBUG|Program|init main 
2024-07-17 01:10:17.4009|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 01:10:17.4520|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 01:10:17.4520|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 01:10:17.4520|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 01:10:17.5040|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 01:10:17.5395|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 01:10:17.5660|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 01:10:17.5707|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 01:10:17.5707|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 01:10:17.5707|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 01:10:17.5707|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 01:10:17.5707|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 01:10:17.5707|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 01:10:17.5707|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 01:10:17.5707|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 01:10:17.5707|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 01:10:17.5707|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 01:10:17.5707|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 01:10:17.5839|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 01:10:17.5839|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 01:10:17.5839|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 01:10:17.5839|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 01:10:17.5839|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 01:10:17.5839|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 01:10:17.5839|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 01:10:17.6950|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 01:10:17.6950|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 01:10:17.6950|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 01:10:17.6950|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 01:10:17.6950|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 01:10:17.6950|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 01:10:17.6950|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 01:10:17.6950|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 01:10:17.6950|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 01:10:17.8842|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV5" accepted. 
2024-07-17 01:10:17.8842|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV5" started. 
2024-07-17 01:10:17.9043|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OA67KRV5" received FIN. 
2024-07-17 01:10:17.9043|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OA67KRV6" received FIN. 
2024-07-17 01:10:17.9043|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OA67KRV5" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 01:10:17.9102|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV6" accepted. 
2024-07-17 01:10:17.9102|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV6" started. 
2024-07-17 01:10:17.9102|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OA67KRV6" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 01:10:17.9102|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV5" disconnecting. 
2024-07-17 01:10:17.9102|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV6" disconnecting. 
2024-07-17 01:10:17.9102|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV6" stopped. 
2024-07-17 01:10:17.9102|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV5" stopped. 
2024-07-17 01:10:18.1409|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV7" accepted. 
2024-07-17 01:10:18.1409|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV7" started. 
2024-07-17 01:10:18.1750|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV8" accepted. 
2024-07-17 01:10:18.1750|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV8" started. 
2024-07-17 01:10:18.2051|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 01:10:18.2307|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 01:10:18.2307|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 01:10:18.3415|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 01:10:18.4303|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV9" accepted. 
2024-07-17 01:10:18.4303|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 01:10:18.4303|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV9" started. 
2024-07-17 01:10:18.4303|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 01:10:18.4303|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV8" completed keep alive response. 
2024-07-17 01:10:18.4303|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 5.6418ms 
2024-07-17 01:10:18.4303|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 01:10:18.4303|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV7" completed keep alive response. 
2024-07-17 01:10:18.4303|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 234.8436ms 
2024-07-17 01:10:18.4589|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV9" completed keep alive response. 
2024-07-17 01:10:18.4589|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.3618ms 
2024-07-17 01:10:18.5257|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 01:10:18.5257|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 01:10:18.6421|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OA67KRV9" completed keep alive response. 
2024-07-17 01:10:18.6421|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.5361ms 
2024-07-17 01:16:28.3034|0|DEBUG|Program|init main 
2024-07-17 01:16:29.5147|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 01:16:29.5690|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 01:16:29.5690|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 01:16:29.5690|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 01:16:29.6378|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 01:16:29.6919|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 01:16:29.7212|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 01:16:29.7269|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 01:16:29.7269|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 01:16:29.7269|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 01:16:29.7269|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 01:16:29.7269|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 01:16:29.7269|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 01:16:29.7269|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 01:16:29.7269|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 01:16:29.7269|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 01:16:29.7269|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 01:16:29.7388|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 01:16:29.7388|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 01:16:29.7388|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 01:16:29.7388|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 01:16:29.7388|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 01:16:29.7388|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 01:16:29.7388|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 01:16:29.7388|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 01:16:29.8306|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 01:16:29.8355|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 01:16:29.8355|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 01:16:29.8355|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 01:16:29.8355|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 01:16:29.8355|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 01:16:29.8355|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 01:16:29.8355|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 01:16:29.8355|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 01:16:29.9501|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBK7" accepted. 
2024-07-17 01:16:29.9501|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBK7" started. 
2024-07-17 01:16:29.9587|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBK8" accepted. 
2024-07-17 01:16:29.9587|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBK8" started. 
2024-07-17 01:16:29.9918|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55ODL3UBK8" received FIN. 
2024-07-17 01:16:29.9918|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55ODL3UBK7" received FIN. 
2024-07-17 01:16:29.9918|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55ODL3UBK8" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 01:16:29.9918|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55ODL3UBK7" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 01:16:30.0051|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBK7" disconnecting. 
2024-07-17 01:16:30.0051|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBK8" disconnecting. 
2024-07-17 01:16:30.0051|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBK7" stopped. 
2024-07-17 01:16:30.0051|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBK8" stopped. 
2024-07-17 01:16:30.1180|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBK9" accepted. 
2024-07-17 01:16:30.1180|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBK9" started. 
2024-07-17 01:16:30.1495|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBKA" accepted. 
2024-07-17 01:16:30.1495|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBKA" started. 
2024-07-17 01:16:30.1784|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 01:16:30.2045|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 01:16:30.2045|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 01:16:30.3105|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 01:16:30.3976|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 01:16:30.3976|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBKB" accepted. 
2024-07-17 01:16:30.3976|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBKB" started. 
2024-07-17 01:16:30.3976|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 01:16:30.3976|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBKA" completed keep alive response. 
2024-07-17 01:16:30.3976|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.8290ms 
2024-07-17 01:16:30.3976|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 01:16:30.3976|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBK9" completed keep alive response. 
2024-07-17 01:16:30.3976|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 225.7627ms 
2024-07-17 01:16:30.4280|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBKB" completed keep alive response. 
2024-07-17 01:16:30.4280|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.2197ms 
2024-07-17 01:16:30.4958|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 01:16:30.4958|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 01:16:30.6177|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55ODL3UBKB" completed keep alive response. 
2024-07-17 01:16:30.6177|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 122.3805ms 
2024-07-17 01:18:12.1088|0|DEBUG|Program|init main 
2024-07-17 01:18:13.1577|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 01:18:13.2056|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 01:18:13.2076|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 01:18:13.2076|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 01:18:13.2517|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 01:18:13.2970|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 01:18:13.3270|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 01:18:13.3333|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 01:18:13.3333|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 01:18:13.3333|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 01:18:13.3333|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 01:18:13.3333|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 01:18:13.3333|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 01:18:13.3333|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 01:18:13.3333|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 01:18:13.3333|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 01:18:13.3333|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 01:18:13.3544|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 01:18:13.3544|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 01:18:13.3544|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 01:18:13.3544|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 01:18:13.3544|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 01:18:13.3638|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 01:18:13.3638|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 01:18:13.3638|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 01:18:13.4939|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 01:18:13.4939|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 01:18:13.4939|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 01:18:13.4939|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 01:18:13.4939|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 01:18:13.4939|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 01:18:13.4939|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 01:18:13.4939|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 01:18:13.4939|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 01:18:13.8675|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OEK2VESG" received FIN. 
2024-07-17 01:18:13.8675|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OEK2VESH" received FIN. 
2024-07-17 01:18:13.8808|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESG" accepted. 
2024-07-17 01:18:13.8808|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESH" accepted. 
2024-07-17 01:18:13.8808|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESG" started. 
2024-07-17 01:18:13.8808|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESH" started. 
2024-07-17 01:18:13.8808|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OEK2VESH" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 01:18:13.8808|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OEK2VESG" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 01:18:13.8808|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESG" disconnecting. 
2024-07-17 01:18:13.8808|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESH" disconnecting. 
2024-07-17 01:18:13.8808|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESH" stopped. 
2024-07-17 01:18:13.8808|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESG" stopped. 
2024-07-17 01:18:14.0229|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESI" accepted. 
2024-07-17 01:18:14.0229|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESI" started. 
2024-07-17 01:18:14.0648|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESJ" accepted. 
2024-07-17 01:18:14.0648|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESJ" started. 
2024-07-17 01:18:14.1078|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 01:18:14.1429|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 01:18:14.1429|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 01:18:14.2444|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 01:18:14.3252|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESK" accepted. 
2024-07-17 01:18:14.3252|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESK" started. 
2024-07-17 01:18:14.3252|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 01:18:14.3252|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 01:18:14.3252|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESJ" completed keep alive response. 
2024-07-17 01:18:14.3252|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.1777ms 
2024-07-17 01:18:14.3252|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 01:18:14.3252|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESI" completed keep alive response. 
2024-07-17 01:18:14.3252|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 225.7645ms 
2024-07-17 01:18:14.3506|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESK" completed keep alive response. 
2024-07-17 01:18:14.3506|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.8920ms 
2024-07-17 01:18:14.4155|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 01:18:14.4155|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 01:18:14.5399|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OEK2VESK" completed keep alive response. 
2024-07-17 01:18:14.5399|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 124.5699ms 
2024-07-17 01:19:59.2401|0|DEBUG|Program|init main 
2024-07-17 01:20:00.0784|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 01:20:00.1197|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 01:20:00.1197|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 01:20:00.1197|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 01:20:00.1667|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 01:20:00.2072|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 01:20:00.2320|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 01:20:00.2320|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 01:20:00.2320|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 01:20:00.2320|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 01:20:00.2384|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 01:20:00.2384|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 01:20:00.2384|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 01:20:00.2384|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 01:20:00.2384|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 01:20:00.2384|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 01:20:00.2384|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 01:20:00.2384|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 01:20:00.2384|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 01:20:00.2384|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 01:20:00.2384|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 01:20:00.2384|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 01:20:00.2384|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 01:20:00.2384|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 01:20:00.2384|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 01:20:00.3370|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 01:20:00.3370|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 01:20:00.3370|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 01:20:00.3370|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 01:20:00.3370|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 01:20:00.3370|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 01:20:00.3370|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 01:20:00.3370|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 01:20:00.3370|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 01:20:00.6799|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCK" accepted. 
2024-07-17 01:20:00.6799|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCL" accepted. 
2024-07-17 01:20:00.6929|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCL" started. 
2024-07-17 01:20:00.6929|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCK" started. 
2024-07-17 01:20:00.6929|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OFJTJVCL" received FIN. 
2024-07-17 01:20:00.6929|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OFJTJVCK" received FIN. 
2024-07-17 01:20:00.7149|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OFJTJVCK" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 01:20:00.7149|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OFJTJVCL" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 01:20:00.7149|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCK" disconnecting. 
2024-07-17 01:20:00.7149|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCL" disconnecting. 
2024-07-17 01:20:00.7149|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCL" stopped. 
2024-07-17 01:20:00.7149|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCK" stopped. 
2024-07-17 01:20:01.9435|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCM" accepted. 
2024-07-17 01:20:01.9435|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCM" started. 
2024-07-17 01:20:01.9435|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCN" accepted. 
2024-07-17 01:20:01.9435|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCN" started. 
2024-07-17 01:20:01.9886|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 01:20:02.0158|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 01:20:02.0158|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 01:20:02.1104|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 01:20:02.2490|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 01:20:02.2490|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCO" accepted. 
2024-07-17 01:20:02.2490|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCO" started. 
2024-07-17 01:20:02.2490|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 01:20:02.2543|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCO" completed keep alive response. 
2024-07-17 01:20:02.2543|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.7591ms 
2024-07-17 01:20:02.2543|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 01:20:02.2543|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCM" completed keep alive response. 
2024-07-17 01:20:02.2543|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 281.9135ms 
2024-07-17 01:20:02.2869|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCN" completed keep alive response. 
2024-07-17 01:20:02.2869|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.0533ms 
2024-07-17 01:20:02.3859|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 01:20:02.3859|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 01:20:02.5147|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OFJTJVCN" completed keep alive response. 
2024-07-17 01:20:02.5147|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 129.1176ms 
2024-07-17 01:21:01.4518|0|DEBUG|Program|init main 
2024-07-17 01:21:02.6358|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 01:21:02.6834|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 01:21:02.6834|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 01:21:02.6834|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 01:21:02.7428|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 01:21:02.8197|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 01:21:02.8631|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 01:21:02.8698|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 01:21:02.8698|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 01:21:02.8698|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 01:21:02.8698|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 01:21:02.8698|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 01:21:02.8698|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 01:21:02.8821|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 01:21:02.8821|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 01:21:02.8821|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 01:21:02.8821|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 01:21:02.8821|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 01:21:02.8821|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 01:21:02.8954|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 01:21:02.8954|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 01:21:02.8954|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 01:21:02.8954|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 01:21:02.8954|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 01:21:02.8954|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 01:21:03.0099|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 01:21:03.0099|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 01:21:03.0099|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 01:21:03.0099|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 01:21:03.0099|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 01:21:03.0099|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 01:21:03.0099|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 01:21:03.0099|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 01:21:03.0099|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 01:21:03.1590|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KQ" accepted. 
2024-07-17 01:21:03.1590|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KP" accepted. 
2024-07-17 01:21:03.1652|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KQ" started. 
2024-07-17 01:21:03.1652|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KP" started. 
2024-07-17 01:21:03.1933|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OG6HF1KP" received FIN. 
2024-07-17 01:21:03.1933|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OG6HF1KQ" received FIN. 
2024-07-17 01:21:03.1933|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OG6HF1KQ" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 01:21:03.1933|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55OG6HF1KP" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 01:21:03.1933|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KQ" disconnecting. 
2024-07-17 01:21:03.1933|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KP" disconnecting. 
2024-07-17 01:21:03.1933|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KP" stopped. 
2024-07-17 01:21:03.1933|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KQ" stopped. 
2024-07-17 01:21:03.5111|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KR" accepted. 
2024-07-17 01:21:03.5111|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KR" started. 
2024-07-17 01:21:03.5434|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KS" accepted. 
2024-07-17 01:21:03.5434|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KS" started. 
2024-07-17 01:21:03.5946|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 01:21:03.6318|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 01:21:03.6318|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 01:21:03.7441|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 01:21:03.8341|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KT" accepted. 
2024-07-17 01:21:03.8341|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KT" started. 
2024-07-17 01:21:03.8341|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 01:21:03.8341|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 01:21:03.8341|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KS" completed keep alive response. 
2024-07-17 01:21:03.8341|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.3568ms 
2024-07-17 01:21:03.8341|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 01:21:03.8341|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KR" completed keep alive response. 
2024-07-17 01:21:03.8341|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 249.9720ms 
2024-07-17 01:21:03.8638|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KT" completed keep alive response. 
2024-07-17 01:21:03.8638|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.4578ms 
2024-07-17 01:21:03.9363|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 01:21:03.9363|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 01:21:04.0811|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55OG6HF1KT" completed keep alive response. 
2024-07-17 01:21:04.0811|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.0131ms 
2024-07-17 01:21:18.4660|0|DEBUG|Program|init main 
2024-07-17 02:37:09.7489|0|DEBUG|Program|init main 
2024-07-17 02:37:11.2612|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 02:37:11.3450|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 02:37:11.3450|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 02:37:11.3500|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 02:37:11.5021|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 02:37:11.5812|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 02:37:11.6203|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 02:37:11.6203|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 02:37:11.6302|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 02:37:11.6302|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 02:37:11.6302|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 02:37:11.6302|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 02:37:11.6302|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 02:37:11.6302|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 02:37:11.6302|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 02:37:11.6302|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 02:37:11.6302|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 02:37:11.6470|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 02:37:11.6470|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 02:37:11.6470|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 02:37:11.6470|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 02:37:11.6470|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 02:37:11.6470|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 02:37:11.6470|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 02:37:11.6470|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 02:37:11.7824|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 02:37:11.7876|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 02:37:11.7876|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 02:37:11.7876|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 02:37:11.7876|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 02:37:11.7876|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 02:37:11.7876|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 02:37:11.7876|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 02:37:11.7876|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 02:37:11.8759|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N15" accepted. 
2024-07-17 02:37:11.8759|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N14" accepted. 
2024-07-17 02:37:11.8848|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N14" started. 
2024-07-17 02:37:11.8848|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N15" started. 
2024-07-17 02:37:11.9121|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55PQO44N15" received FIN. 
2024-07-17 02:37:11.9121|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55PQO44N14" received FIN. 
2024-07-17 02:37:11.9121|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55PQO44N15" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 02:37:11.9121|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55PQO44N14" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 02:37:11.9121|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N14" disconnecting. 
2024-07-17 02:37:11.9121|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N15" disconnecting. 
2024-07-17 02:37:11.9267|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N15" stopped. 
2024-07-17 02:37:11.9267|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N14" stopped. 
2024-07-17 02:37:12.0564|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N16" accepted. 
2024-07-17 02:37:12.0564|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N16" started. 
2024-07-17 02:37:12.0852|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N17" accepted. 
2024-07-17 02:37:12.0852|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N17" started. 
2024-07-17 02:37:12.1183|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 02:37:12.1523|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 02:37:12.1523|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 02:37:12.2630|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 02:37:12.3698|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N18" accepted. 
2024-07-17 02:37:12.3698|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N18" started. 
2024-07-17 02:37:12.3698|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 02:37:12.3698|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 02:37:12.3698|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N16" completed keep alive response. 
2024-07-17 02:37:12.3698|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 255.8184ms 
2024-07-17 02:37:12.3698|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 02:37:12.3698|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N17" completed keep alive response. 
2024-07-17 02:37:12.3698|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.6272ms 
2024-07-17 02:37:12.4012|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N18" completed keep alive response. 
2024-07-17 02:37:12.4012|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.0223ms 
2024-07-17 02:37:12.4601|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 02:37:12.4601|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 02:37:12.5856|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PQO44N18" completed keep alive response. 
2024-07-17 02:37:12.5856|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 125.6533ms 
2024-07-17 02:37:22.3717|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5289/api/Chat?userId=5 application/json 108 
2024-07-17 02:37:22.3717|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 02:37:22.3717|1|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2024-07-17 02:37:22.3717|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 02:37:22.4466|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2024-07-17 02:37:22.4695|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat' 
2024-07-17 02:37:22.4695|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.AddNewChat (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat' is valid for the request path '/api/Chat' 
2024-07-17 02:37:22.4695|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.AddNewChat (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 02:37:22.4695|2|DEBUG|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|The request has an origin header: 'http://localhost:5289'. 
2024-07-17 02:37:22.4695|4|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful. 
2024-07-17 02:37:22.4753|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.AddNewChat (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 02:37:22.4963|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "AddNewChat", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewChat(Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 02:37:22.4963|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 02:37:22.4963|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 02:37:22.4963|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 02:37:22.4963|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 02:37:22.4963|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 02:37:22.4963|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 02:37:22.7219|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 02:37:22.7298|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'chatRoom' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel' ... 
2024-07-17 02:37:22.7298|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'chatRoom' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel' using the name '' in request data ... 
2024-07-17 02:37:22.7298|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2024-07-17 02:37:22.7405|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN55PQO44N18", Request id "0HN55PQO44N18:00000003": started reading request body. 
2024-07-17 02:37:22.7405|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN55PQO44N18", Request id "0HN55PQO44N18:00000003": done reading request body. 
2024-07-17 02:37:22.7405|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel' 
2024-07-17 02:37:22.7405|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'chatRoom' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel'. 
2024-07-17 02:37:22.7405|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'chatRoom' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel'. 
2024-07-17 02:37:22.7405|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'chatRoom' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel' ... 
2024-07-17 02:37:22.7625|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'chatRoom' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel'. 
2024-07-17 02:37:22.7625|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'userId' of type 'System.Int32' ... 
2024-07-17 02:37:22.7625|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ... 
2024-07-17 02:37:22.7625|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'userId' of type 'System.Int32'. 
2024-07-17 02:37:22.7625|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'userId' of type 'System.Int32'. 
2024-07-17 02:37:22.7625|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'userId' of type 'System.Int32' ... 
2024-07-17 02:37:22.7625|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'userId' of type 'System.Int32'. 
2024-07-17 02:37:22.7625|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 02:37:22.7625|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 02:37:22.7625|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 02:37:22.7625|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 02:37:22.7625|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 02:37:22.8434|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.AddNewChat (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 02:37:22.8434|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.AddNewChat (Goods.System.Social.Network.Microservice.Chats) with arguments (Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel, 5) 
2024-07-17 02:37:22.8434|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод AddNewChat 
2024-07-17 02:41:52.2609|0|DEBUG|Program|init main 
2024-07-17 02:41:53.4481|1|DEBUG|Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver|Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2024-07-17 02:41:53.4952|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnConnectedChatAsync' is bound. 
2024-07-17 02:41:53.4952|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'OnDisconnectedChatAsync' is bound. 
2024-07-17 02:41:53.4952|9|TRACE|Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher|'ChatHub' hub method 'Send' is bound. 
2024-07-17 02:41:53.5644|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2024-07-17 02:41:53.6197|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2024-07-17 02:41:53.6444|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2024-07-17 02:41:53.6497|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-00e1b3b0-243c-4fc4-98a0-7ac999c74e24.xml'. 
2024-07-17 02:41:53.6497|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-3a2da2d8-c8af-4792-bf1b-74c5066aed28.xml'. 
2024-07-17 02:41:53.6497|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-55dfbc97-4ea2-4bf5-88f0-9444a512c4ac.xml'. 
2024-07-17 02:41:53.6497|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-883a64c9-9213-4f95-a1cd-dd639a6bcd07.xml'. 
2024-07-17 02:41:53.6497|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\димон\AppData\Local\ASP.NET\DataProtection-Keys\key-c23ed5e2-9422-4500-9128-63fd9ee58caf.xml'. 
2024-07-17 02:41:53.6497|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {00e1b3b0-243c-4fc4-98a0-7ac999c74e24}. 
2024-07-17 02:41:53.6497|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3a2da2d8-c8af-4792-bf1b-74c5066aed28}. 
2024-07-17 02:41:53.6497|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac}. 
2024-07-17 02:41:53.6497|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {883a64c9-9213-4f95-a1cd-dd639a6bcd07}. 
2024-07-17 02:41:53.6497|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {c23ed5e2-9422-4500-9128-63fd9ee58caf}. 
2024-07-17 02:41:53.6620|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} with expiration date 2024-08-22 10:25:31Z as default key. 
2024-07-17 02:41:53.6620|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 02:41:53.6620|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2024-07-17 02:41:53.6620|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2024-07-17 02:41:53.6620|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2024-07-17 02:41:53.6620|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2024-07-17 02:41:53.6620|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} as the default key. 
2024-07-17 02:41:53.6620|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {55dfbc97-4ea2-4bf5-88f0-9444a512c4ac} was loaded during application startup. 
2024-07-17 02:41:53.7580|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5289 
2024-07-17 02:41:53.7580|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Goods.System.Social.Network.Microservice.Chats 
2024-07-17 02:41:53.7580|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2024-07-17 02:41:53.7580|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2024-07-17 02:41:53.7580|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2024-07-17 02:41:53.7580|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2024-07-17 02:41:53.7580|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\димон\Desktop\Я\РУСАЛ\SocialNet\SocialNetworkSystem\Goods.Social.Network\Goods.System.Social.Network.Microservice.Chats 
2024-07-17 02:41:53.7580|9|TRACE|Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager|Starting connection heartbeat. 
2024-07-17 02:41:53.7580|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2024-07-17 02:41:53.8701|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55PTC5EJ9I" received FIN. 
2024-07-17 02:41:53.8701|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55PTC5EJ9H" received FIN. 
2024-07-17 02:41:53.8871|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9I" accepted. 
2024-07-17 02:41:53.8871|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9H" accepted. 
2024-07-17 02:41:53.8871|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9I" started. 
2024-07-17 02:41:53.8871|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9H" started. 
2024-07-17 02:41:53.8963|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55PTC5EJ9H" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 02:41:53.8963|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55PTC5EJ9I" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 02:41:53.8963|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9I" disconnecting. 
2024-07-17 02:41:53.8963|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9H" disconnecting. 
2024-07-17 02:41:53.8963|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9H" stopped. 
2024-07-17 02:41:53.8963|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9I" stopped. 
2024-07-17 02:41:54.0181|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9J" accepted. 
2024-07-17 02:41:54.0181|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9J" started. 
2024-07-17 02:41:54.0480|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9K" accepted. 
2024-07-17 02:41:54.0480|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9K" started. 
2024-07-17 02:41:54.0871|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 02:41:54.1153|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2024-07-17 02:41:54.1153|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 02:41:54.2173|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 02:41:54.3193|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9L" accepted. 
2024-07-17 02:41:54.3193|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9L" started. 
2024-07-17 02:41:54.3193|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 02:41:54.3193|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 02:41:54.3193|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9K" completed keep alive response. 
2024-07-17 02:41:54.3193|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 2.3649ms 
2024-07-17 02:41:54.3193|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 02:41:54.3193|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9J" completed keep alive response. 
2024-07-17 02:41:54.3193|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 240.0136ms 
2024-07-17 02:41:54.3647|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9L" completed keep alive response. 
2024-07-17 02:41:54.3647|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.5603ms 
2024-07-17 02:41:54.4318|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 02:41:54.4318|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 02:41:54.5583|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9L" completed keep alive response. 
2024-07-17 02:41:54.5583|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.3074ms 
2024-07-17 02:41:59.2813|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9M" accepted. 
2024-07-17 02:41:59.2813|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55PTC5EJ9M" received FIN. 
2024-07-17 02:41:59.2813|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9M" started. 
2024-07-17 02:41:59.2813|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9N" accepted. 
2024-07-17 02:41:59.2813|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HN55PTC5EJ9M" sending FIN because: "The Socket transport's send loop completed gracefully." 
2024-07-17 02:41:59.2813|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9N" started. 
2024-07-17 02:41:59.2813|10|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9M" disconnecting. 
2024-07-17 02:41:59.2813|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9M" stopped. 
2024-07-17 02:41:59.2880|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:5289/api/Chat?userId=5 application/json 115 
2024-07-17 02:41:59.2880|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 02:41:59.2880|1|DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|POST requests are not supported 
2024-07-17 02:41:59.2880|3|WARN|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Failed to determine the https port for redirect. 
2024-07-17 02:41:59.5405|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-07-17 02:41:59.5405|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2024-07-17 02:41:59.5597|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Chat' 
2024-07-17 02:41:59.5597|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.AddNewChat (Goods.System.Social.Network.Microservice.Chats)' with route pattern 'api/Chat' is valid for the request path '/api/Chat' 
2024-07-17 02:41:59.5597|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.AddNewChat (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 02:41:59.5597|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.AddNewChat (Goods.System.Social.Network.Microservice.Chats)' 
2024-07-17 02:41:59.5793|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "AddNewChat", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewChat(Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel, Int32) on controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats). 
2024-07-17 02:41:59.5793|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2024-07-17 02:41:59.5793|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2024-07-17 02:41:59.5793|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2024-07-17 02:41:59.5793|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2024-07-17 02:41:59.5793|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2024-07-17 02:41:59.5793|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 02:41:59.7454|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController (Goods.System.Social.Network.Microservice.Chats) 
2024-07-17 02:41:59.7454|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'chatRoom' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel' ... 
2024-07-17 02:41:59.7454|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'chatRoom' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel' using the name '' in request data ... 
2024-07-17 02:41:59.7454|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2024-07-17 02:41:59.7592|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN55PTC5EJ9N", Request id "0HN55PTC5EJ9N:00000001": started reading request body. 
2024-07-17 02:41:59.7592|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HN55PTC5EJ9N", Request id "0HN55PTC5EJ9N:00000001": done reading request body. 
2024-07-17 02:41:59.7592|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel' 
2024-07-17 02:41:59.7592|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'chatRoom' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel'. 
2024-07-17 02:41:59.7592|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'chatRoom' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel'. 
2024-07-17 02:41:59.7592|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'chatRoom' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel' ... 
2024-07-17 02:41:59.7766|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'chatRoom' of type 'Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel'. 
2024-07-17 02:41:59.7766|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'userId' of type 'System.Int32' ... 
2024-07-17 02:41:59.7766|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ... 
2024-07-17 02:41:59.7766|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'userId' of type 'System.Int32'. 
2024-07-17 02:41:59.7766|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'userId' of type 'System.Int32'. 
2024-07-17 02:41:59.7766|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'userId' of type 'System.Int32' ... 
2024-07-17 02:41:59.7766|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'userId' of type 'System.Int32'. 
2024-07-17 02:41:59.7766|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter. 
2024-07-17 02:41:59.7766|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 02:41:59.7766|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2024-07-17 02:41:59.7766|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 02:41:59.7766|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2024-07-17 02:41:59.8532|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.AddNewChat (Goods.System.Social.Network.Microservice.Chats) - Validation state: Valid 
2024-07-17 02:41:59.8532|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController.AddNewChat (Goods.System.Social.Network.Microservice.Chats) with arguments (Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel, 5) 
2024-07-17 02:41:59.8532|0|INFO|Goods.System.Social.Network.Microservice.Chats.Controllers.ChatController|Вызван метод AddNewChat 
2024-07-17 02:42:08.4973|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод Create с параметрами: chatRoom: Goods.System.Social.Network.Microservice.Chats.Entities.ViewModels.ChatRoomViewModel, userId: 5 
2024-07-17 02:42:08.5352|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод Create с параметрами: chatRoom : 5 
2024-07-17 02:42:08.6339|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2024-07-17 02:42:09.2896|10400|WARN|Microsoft.EntityFrameworkCore.Model.Validation|Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. 
2024-07-17 02:42:09.4304|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/index.html - - 
2024-07-17 02:42:09.4304|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 02:42:09.4304|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2024-07-17 02:42:09.4617|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2024-07-17 02:42:09.4617|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9L" completed keep alive response. 
2024-07-17 02:42:09.4617|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/index.html - - - 200 - text/html;charset=utf-8 31.5183ms 
2024-07-17 02:42:09.4617|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - 
2024-07-17 02:42:09.4617|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - 
2024-07-17 02:42:09.4617|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9J" completed keep alive response. 
2024-07-17 02:42:09.4617|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_framework/aspnetcore-browser-refresh.js - - - 200 12062 application/javascript;+charset=utf-8 0.3237ms 
2024-07-17 02:42:09.4821|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9L" completed keep alive response. 
2024-07-17 02:42:09.4821|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.2580ms 
2024-07-17 02:42:09.5294|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - 
2024-07-17 02:42:09.5294|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2024-07-17 02:42:09.5390|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HN55PTC5EJ9L" completed keep alive response. 
2024-07-17 02:42:09.5390|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 9.7045ms 
2024-07-17 02:42:09.5684|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 02:42:09.6801|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)' 
2024-07-17 02:42:09.8671|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Avatar (string) Required MaxLength(20), 1], [Property: User.Background (string) Required MaxLength(20), 2], [Property: User.City (string) Required MaxLength(25), 3], [Property: User.Country (string) Required MaxLength(25), 4], [Property: User.DateBirthday (DateTime) Required, 5], [Property: User.Email (string) Required MaxLength(182), 6], [Property: User.FirstName (string) Required MaxLength(25), 7], [Property: User.LastName (string) Required MaxLength(25), 8], [Property: User.Password (string) Required MaxLength(100), 9], [Property: User.Phone (string) Required MaxLength(11), 10], [Property: User.SettingNotificationId (int) Required FK Index, 11], [Property: User.SettingPrivacyId (int) Required FK Index, 12], [Property: User.Status (string) Required MaxLength(100), 13] }
            SELECT TOP(1) u.Id, u.Avatar, u.Background, u.City, u.Country, u.DateBirthday, u.Email, u.FirstName, u.LastName, u.Password, u.Phone, u.SettingNotificationId, u.SettingPrivacyId, u.Status
            FROM Users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Goods.System.Social.Network.DAL.UserContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2024-07-17 02:42:09.9025|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 02:42:09.9025|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 02:42:09.9268|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2024-07-17 02:42:09.9268|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (30ms). 
2024-07-17 02:42:09.9268|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (40ms). 
2024-07-17 02:42:09.9451|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.2803|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.2888|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-17 02:42:10.3467|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (62ms) [Parameters=[@__p_0='5'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Background], [u].[City], [u].[Country], [u].[DateBirthday], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Phone], [u].[SettingNotificationId], [u].[SettingPrivacyId], [u].[Status]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0 
2024-07-17 02:42:10.4003|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'User' entity with key '{Id: 5}'. 
2024-07-17 02:42:10.4354|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.4354|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 91ms reading results. 
2024-07-17 02:42:10.4443|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.4443|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (4ms). 
2024-07-17 02:42:10.4635|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"UserContext"' generated temporary value '-2147482647' for the property '"Id"."ChatRoom"'. 
2024-07-17 02:42:10.4890|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: -2147482647}'. 
2024-07-17 02:42:10.4890|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-17 02:42:10.4890|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-17 02:42:10.5089|10804|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|1 entities were added and 0 entities were removed from navigation 'User.ChatRooms' on entity with key '{Id: 5}'. 
2024-07-17 02:42:10.5089|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"UserContext"' generated temporary value '-2147482647' for the property '"Id"."ChatRoomUser"'. 
2024-07-17 02:42:10.5289|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'ChatRoomUser.User' for entity with key '{Id: -2147482647}' was detected as changed. 
2024-07-17 02:42:10.5289|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: -2147482647}'. 
2024-07-17 02:42:10.5289|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-17 02:42:10.5970|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.5994|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.5994|20209|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'. 
2024-07-17 02:42:10.5994|20200|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'. 
2024-07-17 02:42:10.5994|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 02:42:10.5994|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:10.5994|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (1ms). 
2024-07-17 02:42:10.5994|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='string' (Nullable = false) (Size = 100), @p1='Чат пуст' (Nullable = false) (Size = 500), @p2='string' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ChatRooms] ([Description], [LastMessage], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2); 
2024-07-17 02:42:10.6151|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='string' (Nullable = false) (Size = 100), @p1='Чат пуст' (Nullable = false) (Size = 500), @p2='string' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ChatRooms] ([Description], [LastMessage], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2); 
2024-07-17 02:42:10.6151|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ChatRoom.Id' was detected as changed from '-2147482647' to '19' for entity with key '{Id: 19}'. 
2024-07-17 02:42:10.6151|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ChatRoomUser.ChatRoomId' was detected as changed from '-2147482647' to '19' for entity with key '{Id: -2147482647}'. 
2024-07-17 02:42:10.6328|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.6328|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 18ms reading results. 
2024-07-17 02:42:10.6328|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 02:42:10.6328|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:10.6328|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:10.6328|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p3='19', @p4='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ChatRoomUsers] ([ChatRoomId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p3, @p4); 
2024-07-17 02:42:10.6328|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p3='19', @p4='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ChatRoomUsers] ([ChatRoomId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p3, @p4); 
2024-07-17 02:42:10.6328|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ChatRoomUser.Id' was detected as changed from '-2147482647' to '25' for entity with key '{Id: 25}'. 
2024-07-17 02:42:10.6328|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.6328|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 02:42:10.6328|20210|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction. 
2024-07-17 02:42:10.6328|20202|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction. 
2024-07-17 02:42:10.6328|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.6328|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 02:42:10.6328|20204|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction. 
2024-07-17 02:42:10.6491|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'ChatRoom' entity with key '{Id: 19}' tracked by 'UserContext' changed state from 'Added' to 'Unchanged'. 
2024-07-17 02:42:10.6491|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'ChatRoomUser' entity with key '{Id: 25}' tracked by 'UserContext' changed state from 'Added' to 'Unchanged'. 
2024-07-17 02:42:10.6491|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 2 entities written to the database. 
2024-07-17 02:42:10.6491|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .Max(cr => cr.Id)' 
2024-07-17 02:42:10.6836|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT MAX(c.Id)
        FROM ChatRooms AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)
    .Single()' 
2024-07-17 02:42:10.6836|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 02:42:10.6836|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:10.6836|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:10.6836|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.6836|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.6836|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([c].[Id])
FROM [ChatRooms] AS [c] 
2024-07-17 02:42:10.6836|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([c].[Id])
FROM [ChatRooms] AS [c] 
2024-07-17 02:42:10.6836|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.6836|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 1ms reading results. 
2024-07-17 02:42:10.6836|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.6836|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 02:42:10.6925|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 02:42:10.6925|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:10.6925|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 02:42:12.8247|0|TRACE|DomainServices.Chat.Realization.ChatService|Вызван метод CreateAsync с параметрами: message: Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-17 02:42:12.8247|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAsync с параметрами: id : 19 
2024-07-17 02:42:12.8639|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 02:42:12.8639|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ChatRoom>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)' 
2024-07-17 02:42:12.8639|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ChatRoom>(
    asyncEnumerable: new SingleQueryingEnumerable<ChatRoom>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChatRoom.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChatRoom.Description (string) Required MaxLength(100), 1], [Property: ChatRoom.LastMessage (string) Required MaxLength(500), 2], [Property: ChatRoom.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) c.Id, c.Description, c.LastMessage, c.Name
            FROM ChatRooms AS c
            WHERE c.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChatRoom>, 
        Goods.System.Social.Network.DAL.UserContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2024-07-17 02:42:12.8639|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 02:42:12.8639|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 02:42:12.8639|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 02:42:12.8639|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:12.8639|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:12.8639|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.8639|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.8639|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='19'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-17 02:42:12.8639|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__p_0='19'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-17 02:42:12.8883|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 19}'. 
2024-07-17 02:42:12.8883|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.8883|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 16ms reading results. 
2024-07-17 02:42:12.8883|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.8883|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 02:42:12.8883|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 02:42:12.8883|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.8883|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 02:42:12.8883|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод Update с параметрами: chatRoom : Goods.System.Social.Network.DomainModel.Entities.ChatRoom 
2024-07-17 02:42:12.8981|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 02:42:12.8981|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 19}'. 
2024-07-17 02:42:12.8981|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-17 02:42:12.8981|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-17 02:42:12.8981|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-17 02:42:12.8981|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 02:42:12.8981|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 02:42:12.8981|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.8981|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.8981|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 02:42:12.8981|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:12.8981|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:12.8981|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p3='19', @p0='string' (Nullable = false) (Size = 100), @p1='Чат создан' (Nullable = false) (Size = 500), @p2='string' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-17 02:42:12.8981|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p3='19', @p0='string' (Nullable = false) (Size = 100), @p1='Чат создан' (Nullable = false) (Size = 500), @p2='string' (Nullable = false) (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChatRooms] SET [Description] = @p0, [LastMessage] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2024-07-17 02:42:12.8981|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.8981|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 02:42:12.8981|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.8981|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 02:42:12.8981|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'ChatRoom' entity with key '{Id: 19}' tracked by 'UserContext' changed state from 'Modified' to 'Unchanged'. 
2024-07-17 02:42:12.8981|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-17 02:42:12.8981|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 02:42:12.8981|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.8981|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 02:42:12.8981|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.MessageRepository|Вызван метод Create с параметрами: message : Goods.System.Social.Network.DomainModel.Entities.Message 
2024-07-17 02:42:12.8981|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 02:42:12.8981|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"UserContext"' generated temporary value '-2147482647' for the property '"Id"."Message"'. 
2024-07-17 02:42:12.9147|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'Message' entity with key '{Id: -2147482647}'. 
2024-07-17 02:42:12.9147|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-17 02:42:12.9147|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-17 02:42:12.9147|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-17 02:42:12.9147|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 02:42:12.9147|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 02:42:12.9147|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.9147|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.9147|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 02:42:12.9147|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:12.9147|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:12.9147|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='19', @p1='2024-07-17T02:42:12.8202056+07:00', @p2='Чат создан' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-17 02:42:12.9147|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='19', @p1='2024-07-17T02:42:12.8202056+07:00', @p2='Чат создан' (Nullable = false) (Size = 500), @p3='5'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([ChatRoomId], [DateSend], [Msg], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2024-07-17 02:42:12.9147|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'Message.Id' was detected as changed from '-2147482647' to '67' for entity with key '{Id: 67}'. 
2024-07-17 02:42:12.9147|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.9147|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 1ms reading results. 
2024-07-17 02:42:12.9147|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.9147|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 02:42:12.9147|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'Message' entity with key '{Id: 67}' tracked by 'UserContext' changed state from 'Added' to 'Unchanged'. 
2024-07-17 02:42:12.9147|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-17 02:42:12.9147|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Message>()
    .Max(m => m.Id)' 
2024-07-17 02:42:12.9147|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT MAX(m.Id)
        FROM Messages AS m), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    Goods.System.Social.Network.DAL.UserContext, 
    False, 
    False, 
    True
)
    .Single()' 
2024-07-17 02:42:12.9147|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 02:42:12.9147|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:12.9147|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:12.9147|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.9147|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.9147|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-17 02:42:12.9147|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT MAX([m].[Id])
FROM [Messages] AS [m] 
2024-07-17 02:42:12.9147|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.9147|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 02:42:12.9147|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.9147|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 02:42:12.9147|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 02:42:12.9147|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:12.9147|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 02:42:44.0134|0|TRACE|DomainServices.Chat.Realization.InviteService|Вызван метод InvateUserInChatAsync с параметрами: chatRoomUser: Goods.System.Social.Network.DomainModel.Entities.ChatRoomUser 
2024-07-17 02:42:44.0224|0|TRACE|Goods.System.Social.Network.DAL.Repository.Realization.ChatRepository|Вызван метод GetAsync с параметрами: id : 19 
2024-07-17 02:42:44.0224|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 02:42:44.0224|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 02:42:44.0224|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 02:42:44.0224|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 02:42:44.0224|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:44.0224|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:44.0224|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:44.0224|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:44.0224|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__p_0='19'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-17 02:42:44.0224|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__p_0='19'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[LastMessage], [c].[Name]
FROM [ChatRooms] AS [c]
WHERE [c].[Id] = @__p_0 
2024-07-17 02:42:44.0224|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoom' entity with key '{Id: 19}'. 
2024-07-17 02:42:44.0224|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:44.0224|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 02:42:44.0224|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:44.0224|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 02:42:44.0224|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 02:42:44.0224|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:44.0224|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2024-07-17 02:42:44.0470|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 7.0.13 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.13' with options: SensitiveDataLoggingEnabled  
2024-07-17 02:42:44.0470|10808|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|'"UserContext"' generated temporary value '-2147482646' for the property '"Id"."ChatRoomUser"'. 
2024-07-17 02:42:44.0470|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'UserContext' started tracking 'ChatRoomUser' entity with key '{Id: -2147482646}'. 
2024-07-17 02:42:44.0470|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'UserContext'. 
2024-07-17 02:42:44.0470|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'UserContext'. 
2024-07-17 02:42:44.0470|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'UserContext'. 
2024-07-17 02:42:44.0470|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2024-07-17 02:42:44.0470|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2024-07-17 02:42:44.0470|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:44.0470|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:44.0470|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2024-07-17 02:42:44.0470|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:44.0470|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2024-07-17 02:42:44.0470|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='19', @p1='6'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ChatRoomUsers] ([ChatRoomId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1); 
2024-07-17 02:42:44.0470|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='19', @p1='6'], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ChatRoomUsers] ([ChatRoomId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1); 
2024-07-17 02:42:44.0470|10803|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The foreign key property 'ChatRoomUser.Id' was detected as changed from '-2147482646' to '26' for entity with key '{Id: 26}'. 
2024-07-17 02:42:44.0470|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:44.0470|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'SocialNetwork' on server 'DESKTOP-M8O19L4' is being disposed after spending 0ms reading results. 
2024-07-17 02:42:44.0470|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:44.0470|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4' (0ms). 
2024-07-17 02:42:44.0470|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The 'ChatRoomUser' entity with key '{Id: 26}' tracked by 'UserContext' changed state from 'Added' to 'Unchanged'. 
2024-07-17 02:42:44.0470|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'UserContext' with 1 entities written to the database. 
2024-07-17 02:42:44.0470|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'UserContext' disposed. 
2024-07-17 02:42:44.0470|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'SocialNetwork' on server 'DESKTOP-M8O19L4'. 
2024-07-17 02:42:44.0470|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
